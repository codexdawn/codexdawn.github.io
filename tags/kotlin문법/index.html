
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="codexdawn">
    <title>Tag: kotlin문법 - codexdawn</title>
    <meta name="author" content="codexdawn">
    
    
    
        
            <link rel="alternate" type="application/atom+xml" title="RSS" href="/atom.xml">
        
    
    <script type="application/ld+json">{}</script>
    <meta property="og:type" content="blog">
<meta property="og:title" content="codexdawn">
<meta property="og:url" content="https://codexdawn.github.io/tags/kotlin%EB%AC%B8%EB%B2%95/index.html">
<meta property="og:site_name" content="codexdawn">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="codexdawn">
<meta name="twitter:card" content="summary">
    
    
        
    
    
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/assets/css/style-3sspfygaapf5d6tbrnqmyrhdcstv0iwwmi4wor2yeip9c44sowy9gbdzyyjm.min.css">

    <!--STYLES END-->
    

    

    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    

<header id="header" data-behavior="2">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/"
            aria-label=""
        >
            codexdawn
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="Open the link: /#about"
            >
        
        
        </a>
    
</header>

            <!-- Define author's picture -->


<nav id="sidebar" data-behavior="2">
    <div class="sidebar-container">
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/"
                            
                            rel="noopener"
                            title="Home"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-categories"
                            
                            rel="noopener"
                            title="Categories"
                        >
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-tags"
                            
                            rel="noopener"
                            title="Tags"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="#about"
                            
                            rel="noopener"
                            title="About"
                        >
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/codexdawn"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://www.facebook.com/beherzt.dev"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Facebook"
                        >
                        <i class="sidebar-button-icon fab fa-facebook" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Facebook</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://www.linkedin.com/in/sim-jisung-3048872a/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="LinkedIn"
                        >
                        <i class="sidebar-button-icon fab fa-linkedin" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">LinkedIn</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="mailto:cloudkaiser@gmail.com"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Mail"
                        >
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Mail</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/atom.xml"
                            
                            rel="noopener"
                            title="RSS"
                        >
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="2"
                 class="
                        hasCoverMetaIn
                        ">
                
    <section class="postShorten-group main-content-wrap">
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2021/08/10/kotlin-basic-5/"
                            aria-label=": kotlin-basic-5"
                        >
                            kotlin-basic-5
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2021-08-10T06:44:53+00:00">
	
		    Aug 10, 2021
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/KotlinInAction/">KotlinInAction</a>, <a class="category-link" href="/categories/Study/">Study</a>, <a class="category-link" href="/categories/%EC%BD%94%ED%8B%80%EB%A6%B0%EB%AC%B8%EB%B2%95-%EA%B8%B0%EC%B4%88/">코틀린문법&기초</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="연산자-오버로딩과-기타-관례"><a href="#연산자-오버로딩과-기타-관례" class="headerlink" title="연산자 오버로딩과 기타 관례"></a>연산자 오버로딩과 기타 관례</h1><h2 id="산술-연산자-오버로딩"><a href="#산술-연산자-오버로딩" class="headerlink" title="산술 연산자 오버로딩"></a>산술 연산자 오버로딩</h2><h3 id="이항-산술-연산-오버로딩"><a href="#이항-산술-연산-오버로딩" class="headerlink" title="이항 산술 연산 오버로딩"></a>이항 산술 연산 오버로딩</h3><ul>
<li>연산자 오버로딩 할때는 반드시 <strong>operator</strong> 키워드를 붙여줘야함. </li>
<li>연산자를 멤버함수로 만드는대신 확장함수로도 정의가능 </li>
<li>오버로딩 가능한 산술연산자 -&gt; a * b =&gt; times , a / b =&gt; div , a % b =&gt; mod (1.1 부터 rem) , a + b =&gt; plus , a - b =&gt; minus </li>
<li>연산자를 정의할때 두 피연산자는 같을 필요가 없다. </li>
<li>연산자 함수의 반환타입이 꼭 두 피연산자 중 하나와 일치해야하는것도 아님 </li>
</ul>
<figure class="highlight kotlin"><figcaption><span>이항산술연산 오버로딩 예제</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">data</span> <span class="class"><span class="keyword">class</span> <span class="title">Point</span></span>(<span class="keyword">val</span> x:<span class="built_in">Int</span>, <span class="keyword">val</span> y:<span class="built_in">Int</span>) &#123;</span><br><span class="line">	<span class="keyword">operator</span> <span class="function"><span class="keyword">fun</span> <span class="title">plus</span><span class="params">(other:<span class="type">Point</span>)</span></span> : Point &#123;</span><br><span class="line">		<span class="keyword">return</span> Point(x + other.x, y + other.y)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="keyword">val</span> p1 = Point(<span class="number">10</span>,<span class="number">20</span>)</span><br><span class="line">&gt;&gt; <span class="keyword">val</span> p2 = Point(<span class="number">30</span>,<span class="number">40</span>)</span><br><span class="line">&gt;&gt; println(p1 + p2)</span><br><span class="line">&gt;&gt;&gt; Point(x=<span class="number">40</span>,y=<span class="number">60</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">operator</span> <span class="function"><span class="keyword">fun</span> Point.<span class="title">times</span><span class="params">(scale:<span class="type">Double</span>)</span></span>: Point &#123;</span><br><span class="line">	<span class="keyword">return</span> Point((x * scale).toInt(), (y * scale).toInt())</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="keyword">val</span> p1 = Point(<span class="number">10</span>,<span class="number">20</span>)</span><br><span class="line">&gt;&gt; println(p1 * <span class="number">1.5</span>)</span><br><span class="line">&gt;&gt;&gt; Point(x=<span class="number">15</span>,y=<span class="number">30</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">operator</span> <span class="function"><span class="keyword">fun</span> <span class="built_in">Char</span>.<span class="title">times</span><span class="params">(count:<span class="type">Int</span>)</span></span>: String &#123;</span><br><span class="line">	<span class="keyword">return</span> toString().repeat(count)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&gt;&gt; println(<span class="string">&#x27;a&#x27;</span> * <span class="number">3</span>)</span><br><span class="line">&gt;&gt;&gt; aaa </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="복합-대입-연산자-오버로딩"><a href="#복합-대입-연산자-오버로딩" class="headerlink" title="복합 대입 연산자 오버로딩"></a>복합 대입 연산자 오버로딩</h3><figure class="highlight kotlin"><figcaption><span>복합대입연산자 오버로딩 예제</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">operator</span> <span class="function"><span class="keyword">fun</span> <span class="type">&lt;T&gt;</span> MutableCollection<span class="type">&lt;T&gt;</span>.<span class="title">plusAssign</span><span class="params">(element:<span class="type">T</span>)</span></span> &#123;</span><br><span class="line">	<span class="keyword">this</span>.add(element)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="keyword">val</span> list = arrayListOf(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line">&gt;&gt; list += <span class="number">3</span> <span class="comment">// list 엘리먼트 추가 </span></span><br><span class="line">&gt;&gt; <span class="keyword">val</span> newList = list + listOf(<span class="number">4</span>,<span class="number">5</span>) <span class="comment">// 두 리스트를 합쳐서 새로운 리스트로 반환 </span></span><br><span class="line">&gt;&gt; println(list)</span><br><span class="line">&gt;&gt;&gt; [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">&gt;&gt; println(newList)</span><br><span class="line">&gt;&gt;&gt; [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="단항-연산자-오버로딩"><a href="#단항-연산자-오버로딩" class="headerlink" title="단항 연산자 오버로딩"></a>단항 연산자 오버로딩</h3><ul>
<li>+a =&gt; unaryPlus, -a =&gt; unaryMinus, !a =&gt; not, ++a,a++ =&gt; inc, –a,a– =&gt; dec </li>
</ul>
<figure class="highlight kotlin"><figcaption><span>단항 연산자 오버로딩 예제</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">operator</span> <span class="function"><span class="keyword">fun</span> Point.<span class="title">unaryMinus</span><span class="params">()</span></span>: Point &#123;</span><br><span class="line">	<span class="keyword">return</span> Point(-x,-y)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="keyword">val</span> p = Point(<span class="number">10</span>,<span class="number">20</span>)</span><br><span class="line">&gt;&gt; println(-p)</span><br><span class="line">&gt;&gt;&gt; Point(x= -<span class="number">10</span>, y= -<span class="number">20</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">operator</span> <span class="function"><span class="keyword">fun</span> BigDecimal.<span class="title">inc</span><span class="params">()</span></span> = <span class="keyword">this</span> + BigDecimal.ONE</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="keyword">var</span> bd = BigDecimal.ZERO</span><br><span class="line">&gt;&gt; println(bd++)</span><br><span class="line">&gt;&gt;&gt; <span class="number">0</span></span><br><span class="line">&gt;&gt; println(++bd)</span><br><span class="line">&gt;&gt;&gt; <span class="number">2</span> </span><br></pre></td></tr></table></figure>

<h2 id="비교-연산자-오버로딩"><a href="#비교-연산자-오버로딩" class="headerlink" title="비교 연산자 오버로딩"></a>비교 연산자 오버로딩</h2><h3 id="동등성-연산자-equals"><a href="#동등성-연산자-equals" class="headerlink" title="동등성 연산자: equals"></a>동등성 연산자: equals</h3><ul>
<li>코틀린에서 ==, != 연산자는 자바로 컴파일시 equals로 컴파일된다. </li>
<li>코틀린의 ==, != 내부로직에서는 인자가 널인지 검사하므로 다른 연산과 달리 널이 될수있는 값에도 적용가능. </li>
<li>코틀린에서의 ===는 자바의 ==와 동일하다 </li>
</ul>
<h3 id="순서-연산자-compareTo"><a href="#순서-연산자-compareTo" class="headerlink" title="순서 연산자 : compareTo"></a>순서 연산자 : compareTo</h3><ul>
<li>코틀린은 비교연산자(&lt;,&gt;,&gt;=,&lt;=)는 자바의 compareTo로 호출하여 컴파일함 </li>
<li>equals와 마찬가지로 operator 변경자가 붙어있어서 하위 클래스의 오버라이딩 함수에 operator를 붙일필요는 없음 </li>
</ul>
<h2 id="컬렉션과-범위에-대해-쓸-수-있는-관례"><a href="#컬렉션과-범위에-대해-쓸-수-있는-관례" class="headerlink" title="컬렉션과 범위에 대해 쓸 수 있는 관례"></a>컬렉션과 범위에 대해 쓸 수 있는 관례</h2><h3 id="인덱스로-원소에-접근-get-과-set"><a href="#인덱스로-원소에-접근-get-과-set" class="headerlink" title="인덱스로 원소에 접근: get 과 set"></a>인덱스로 원소에 접근: get 과 set</h3><figure class="highlight kotlin"><figcaption><span>Point get / set 관례 구현</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">operator</span> <span class="function"><span class="keyword">fun</span> Point.<span class="title">get</span><span class="params">(index: <span class="type">Int</span>)</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">when</span>(index) &#123;</span><br><span class="line">		<span class="number">0</span> -&gt; x</span><br><span class="line">		<span class="number">1</span> -&gt; y </span><br><span class="line">		<span class="keyword">else</span> -&gt; </span><br><span class="line">			<span class="keyword">throw</span> IndexOutOfBoundsException(<span class="string">&quot;Invalid coordinnate <span class="variable">$index</span>&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="keyword">val</span> p = Point(<span class="number">10</span>,<span class="number">20</span>);</span><br><span class="line">&gt;&gt; println(p[<span class="number">1</span>])</span><br><span class="line">&gt;&gt;&gt; <span class="number">20</span> </span><br><span class="line"></span><br><span class="line"><span class="keyword">operator</span> <span class="function"><span class="keyword">fun</span> MutablePoint.<span class="title">set</span><span class="params">(index:<span class="type">Int</span>, value:<span class="type">Int</span>)</span></span> &#123;</span><br><span class="line">	<span class="keyword">when</span>(index) &#123;</span><br><span class="line">		<span class="number">0</span> -&gt; x = value </span><br><span class="line">		<span class="number">1</span> -&gt; y = value</span><br><span class="line">		<span class="keyword">else</span> -&gt; </span><br><span class="line">		    <span class="keyword">throw</span> IndexOutOfBoundsException(<span class="string">&quot;Invalid coordinnate <span class="variable">$index</span>&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="keyword">val</span> p = MutablePoint(<span class="number">10</span>,<span class="number">20</span>)</span><br><span class="line">&gt;&gt; p[<span class="number">1</span>] = <span class="number">42</span></span><br><span class="line">&gt;&gt;println(p)</span><br><span class="line">&gt;&gt;&gt; MutablePoint(x=<span class="number">10</span>,y=<span class="number">42</span>)</span><br></pre></td></tr></table></figure>

<h3 id="in-관례"><a href="#in-관례" class="headerlink" title="in 관례"></a>in 관례</h3><figure class="highlight kotlin"><figcaption><span>in 관례 구현</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">data</span> <span class="class"><span class="keyword">class</span> <span class="title">Rectangle</span></span>(<span class="keyword">val</span> upperLeft:Point, <span class="keyword">val</span> lowerRight:Point)</span><br><span class="line"></span><br><span class="line"><span class="keyword">operator</span> <span class="function"><span class="keyword">fun</span> Rectangle.<span class="title">contains</span><span class="params">(p: <span class="type">Point</span>)</span></span>: <span class="built_in">Boolean</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> p.x <span class="keyword">in</span> upperLeft.x until lowerRight.x &amp;&amp; p.y <span class="keyword">in</span> upperLeft.y until lowerRight.y </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="keyword">val</span> rect = Rectangle(Point(<span class="number">10</span>,<span class="number">20</span>), Point(<span class="number">50</span>,<span class="number">50</span>))</span><br><span class="line">&gt;&gt; println(Point(<span class="number">20</span>,<span class="number">30</span>) <span class="keyword">in</span> rect)</span><br><span class="line">&gt;&gt;&gt; <span class="literal">true</span> </span><br><span class="line">&gt;&gt; println(Point(<span class="number">5</span>,<span class="number">5</span>) <span class="keyword">in</span> rect)</span><br><span class="line">&gt;&gt;&gt; <span class="literal">false</span> </span><br></pre></td></tr></table></figure>

<ul>
<li>열린범위는 끝값을 포함하지 않는 범위 닫힌범위는 끝값을 포함한 범위 </li>
<li>10 until 20 은 10-19까지를 의미</li>
</ul>
<h3 id="rangeTo-관례"><a href="#rangeTo-관례" class="headerlink" title="rangeTo 관례"></a>rangeTo 관례</h3><ul>
<li>코틀린에서는 rangeTo는 ‘..’으로 이미 정의되어있음 (따로 operator로 개별구현 필요없음)</li>
<li>rangeTo연산자는 다른 산술 연산자 보다 우선순위가 낮다. 하지만 혼선을 피하기 위해 괄호는 꼭 붙여주자 </li>
<li>rangeTo는 forEach 호출가능함 (0..n).forEach{ println(it)}</li>
</ul>
<h3 id="for-루프를-위한-iterator-관례"><a href="#for-루프를-위한-iterator-관례" class="headerlink" title="for 루프를 위한 iterator 관례"></a>for 루프를 위한 iterator 관례</h3><ul>
<li>코틀린의 for루프는 범위검사 in 연산자 사용 하지만 for루프의 in절은 iterator를 호출해서 자바와 마찬가지로 hasNext, next 호출을 반복하는 식으로 변환된다. 하지만 코틀린에서는 이 또한 관례이므로 iterator 메소드를 확장 함수로 정의 할 수 있다. </li>
</ul>
<figure class="highlight kotlin"><figcaption><span>날짜범위에 대한 iterator구현</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">operator</span> <span class="function"><span class="keyword">fun</span> CloseRange<span class="type">&lt;LocalDate&gt;</span>.<span class="title">iterator</span><span class="params">()</span></span>: Iterator&lt;LocalDate&gt; = <span class="keyword">object</span>: Iterator&lt;LocalDate&gt; &#123;</span><br><span class="line">	<span class="keyword">var</span> current = start</span><br><span class="line">	<span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">hasNext</span><span class="params">()</span></span> = current &lt;= endInclusive </span><br><span class="line">	<span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">next</span><span class="params">()</span></span> = current.apply&#123;</span><br><span class="line">		current = plusDays(<span class="number">1</span>)</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br><span class="line">&gt;&gt; <span class="keyword">val</span> newYear = LocalDate.ofYearDay(<span class="number">2017</span>,<span class="number">1</span>)</span><br><span class="line">&gt;&gt; <span class="keyword">val</span> daysOff = newYear.minusDays(<span class="number">1</span>)..newYear</span><br><span class="line">&gt;&gt; <span class="keyword">for</span> (dayOff <span class="keyword">in</span> daysOff) &#123;println(dayOff)&#125;</span><br><span class="line">&gt;&gt;&gt; <span class="number">2016</span>-<span class="number">12</span>-<span class="number">31</span></span><br><span class="line">&gt;&gt;&gt; <span class="number">2017</span>-<span class="number">01</span>-<span class="number">01</span></span><br></pre></td></tr></table></figure>

<h2 id="구조-분해-선언과-component-함수"><a href="#구조-분해-선언과-component-함수" class="headerlink" title="구조 분해 선언과 component 함수"></a>구조 분해 선언과 component 함수</h2><ul>
<li><p>구조 분해 선언은 복합적인 값을 분해해서 여러 다른 변수를 한꺼번에 초기화 할 수 있다. </p>
<figure class="highlight kotlin"><figcaption><span>구조 분해 선언</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">data</span> <span class="class"><span class="keyword">class</span> <span class="title">NameComponents</span></span>(<span class="keyword">val</span> name:String, <span class="keyword">val</span> extension:String)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">splitFilename</span><span class="params">(fullName:<span class="type">String</span>)</span></span>:NameComponents &#123;</span><br><span class="line">	<span class="keyword">val</span> result = fullName.split(<span class="string">&#x27;.&#x27;</span>,limit=<span class="number">2</span>)</span><br><span class="line">	<span class="keyword">return</span> NameComponents(result[<span class="number">0</span>],result[<span class="number">1</span>])</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="keyword">val</span> (name,ext) = splitFilename(<span class="string">&quot;example.kt&quot;</span>)</span><br><span class="line">&gt;&gt; println(name)</span><br><span class="line">&gt;&gt;&gt; example</span><br><span class="line">&gt;&gt; println(ext)</span><br><span class="line">&gt;&gt;&gt; kt </span><br><span class="line"></span><br><span class="line"><span class="comment">//구조 분해 선언과 루프 </span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">printEntries</span><span class="params">(map: <span class="type">Map</span>&lt;<span class="type">String</span>,String&gt;)</span></span> &#123;</span><br><span class="line">	<span class="keyword">for</span> ((key,value) <span class="keyword">in</span> map) &#123;</span><br><span class="line">		println(<span class="string">&quot;<span class="variable">$key</span> -&gt; <span class="variable">$value</span>&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="keyword">val</span> map = mapOf(<span class="string">&quot;Oracle&quot;</span> to <span class="string">&quot;Java&quot;</span>, <span class="string">&quot;JetBrains&quot;</span> to <span class="string">&quot;Kotlin&quot;</span>)</span><br><span class="line">&gt;&gt; printEntries(map)</span><br><span class="line">&gt;&gt;&gt; Oracle -&gt; Java </span><br><span class="line">&gt;&gt;&gt; JetBrains -&gt; Kotlin</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>구조분해선언은 data클래스의 주 생성자에 들어있는 프로퍼티에 대해서 컴파일러가 자동으로 componentN 함수를 만들어준다. </p>
</li>
<li><p>구조분해선언은 함수에서 여러값을 반환할때 유용함 </p>
</li>
<li><p>구조분해선언은 data클래스로 정의해둬야함</p>
</li>
<li><p>이와 비슷한 Pair/Triple 도 존재하지만, 이는 그 안에 담겨있는 원소의 의미를 말해주지 않으므로 경우에 따라 가독성이 떨어질때도 있음. 하지만 직접 클래스를 작성할 필요는 없어서 코드는 더 단순해짐 </p>
</li>
</ul>
<h2 id="프로퍼티-접근자-로직-재활용-위임-프로퍼티"><a href="#프로퍼티-접근자-로직-재활용-위임-프로퍼티" class="headerlink" title="프로퍼티 접근자 로직 재활용 : 위임 프로퍼티"></a>프로퍼티 접근자 로직 재활용 : 위임 프로퍼티</h2><ul>
<li>위임프로퍼티 : 위임프로퍼티를 사용하면 접근자 로직을 매번 재구현 할 필요가없음. 예를들어 프로퍼티는 위임을 사용해 자신의 값을 필드가 아니라 데이터베이스, 테이블이나 브라우져 세션, 맵 등에 저장할수있음. </li>
<li>위임 : 위임은 객체가 직접 작업을 수행하지 않고, 다른 도우미 객체가 그 작업을 처리하게 맡기는 디자인 패턴이다. 이때 작업을 처리하는 도무미 객체를 위임객체 라고 부른다. </li>
</ul>
<h3 id="위임프로퍼티-소개"><a href="#위임프로퍼티-소개" class="headerlink" title="위임프로퍼티 소개"></a>위임프로퍼티 소개</h3><figure class="highlight kotlin"><figcaption><span>위임프로퍼티 소개</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span> </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> p: Type <span class="keyword">by</span> Delegate() </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//위 Foo클래스를 컴파일하면 아래와 같이 구성됨 </span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">val</span> delegate = Delegate() <span class="comment">//컴파일러가 생성한 도우미 프로퍼티 </span></span><br><span class="line">	<span class="keyword">var</span> p:Type <span class="comment">// p 프로퍼티를 위해 컴파일러가 생성한 접근자는 delegate의 getValue/setValue 메소드를 호출함.</span></span><br><span class="line">	<span class="keyword">set</span>(value: Type) = delegate.setValue(..., value)</span><br><span class="line">	<span class="keyword">get</span>() = delegate.getValue(...)</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Delegate</span> </span>&#123;</span><br><span class="line">	<span class="keyword">operator</span> <span class="function"><span class="keyword">fun</span> <span class="title">getValue</span><span class="params">(...)</span></span> &#123;...&#125;</span><br><span class="line">	<span class="keyword">operator</span> <span class="function"><span class="keyword">fun</span> <span class="title">setValue</span><span class="params">(...,value:<span class="type">Type</span>)</span></span> &#123;...&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="keyword">val</span> foo = Foo()</span><br><span class="line">&gt;&gt; <span class="keyword">val</span> oldValue = foo.p </span><br><span class="line">&gt;&gt; foo.p = newValue </span><br></pre></td></tr></table></figure>

<h3 id="위임-프로퍼티-사용-by-lazy-를-사용한-프로퍼티-초기화-지연"><a href="#위임-프로퍼티-사용-by-lazy-를-사용한-프로퍼티-초기화-지연" class="headerlink" title="위임 프로퍼티 사용: by lazy()를 사용한 프로퍼티 초기화 지연"></a>위임 프로퍼티 사용: by lazy()를 사용한 프로퍼티 초기화 지연</h3><ul>
<li><p>지연 초기화는 객체의 일부분을 초기화 하지 않고 남겨뒀다가 실제로 그 부분의 값이 필요할 경우 초기화 할때 흔히 쓰이는 패턴 </p>
<figure class="highlight kotlin"><figcaption><span>위임프로퍼티 by lazy() 소개</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>(<span class="keyword">val</span> name:String) &#123;</span><br><span class="line">	<span class="keyword">val</span> emails <span class="keyword">by</span> lazy &#123; loadEmails(<span class="keyword">this</span>)&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>lazy함수는 코틀린 관례에 맞는 시그니처의 getValue메소드가 들어있는 객체를 반환함 따라서 lazy를 by 키워드와 함께 사용해 위임 프로퍼티를 만들수있음  lazy 함수의 인자는 값을 초기화 할때 호출할 람다다. </p>
</li>
<li><p>lazy함수는 기본적으로 thread-safe하지만, 필요에 따라 동기화에 사용할 락을 lazy함수에 전달할수도있고, 다중 스레드환경에서 사용하지 않을 프로퍼티를 위해 lazy함수가 동기화를 하지 못하게 막을수도있음 </p>
</li>
</ul>
<h3 id="위임-프로퍼티-구현"><a href="#위임-프로퍼티-구현" class="headerlink" title="위임 프로퍼티 구현"></a>위임 프로퍼티 구현</h3><figure class="highlight kotlin"><figcaption><span>위임프로퍼티 구현 (노가다 버전)</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//PropertyChangeSupport를 사용하기 위한 도우미클래스 </span></span><br><span class="line"><span class="keyword">open</span> <span class="class"><span class="keyword">class</span> <span class="title">PropertyChangeAware</span> </span>&#123;</span><br><span class="line">	<span class="keyword">protected</span> <span class="keyword">val</span> changeSupport = PropertyChangeSupport(<span class="keyword">this</span>)</span><br><span class="line">	<span class="function"><span class="keyword">fun</span> <span class="title">addPropertyChangeListener</span><span class="params">(listener: <span class="type">PropertyChangeListener</span>)</span></span> &#123;</span><br><span class="line">		changeSupport.addPropertyChangeListener(listener)</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">fun</span> <span class="title">removePropertyChangeListener</span><span class="params">(listener:<span class="type">PropertyChangeListener</span>)</span></span> &#123;</span><br><span class="line">		changeSupport.removePropertyChangeListener(listener)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//프로퍼티 변경 통지를 직접 구현하기 </span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>(<span class="keyword">val</span> name:String, age:<span class="built_in">Int</span>, salary:<span class="built_in">Int</span>): PropertyChangeAware() &#123;</span><br><span class="line">	<span class="keyword">var</span> age:<span class="built_in">Int</span> = age </span><br><span class="line">		<span class="keyword">set</span>(newValue) &#123;</span><br><span class="line">			<span class="keyword">val</span> oldValue = field</span><br><span class="line">			field = newValue</span><br><span class="line">			changeSupport.firePropertyChange(<span class="string">&quot;age&quot;</span>, oldValue, newValue)</span><br><span class="line">		&#125;</span><br><span class="line">	<span class="keyword">var</span> salary:<span class="built_in">Int</span> = salary </span><br><span class="line">		<span class="keyword">set</span>(newValue) &#123;</span><br><span class="line">			<span class="keyword">val</span> oldValue = field</span><br><span class="line">			field = newValue</span><br><span class="line">			changeSupport.firePropertyChange(<span class="string">&quot;salary&quot;</span>,oldValue,newValue)</span><br><span class="line">		&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="keyword">val</span> p = Person(<span class="string">&quot;Dmitry&quot;</span>, <span class="number">34</span>, <span class="number">2000</span>)</span><br><span class="line">&gt;&gt; p.addPropertyChangeListener( </span><br><span class="line">		PropertyChangeListener &#123;event -&gt; </span><br><span class="line">			println(<span class="string">&quot;Property <span class="subst">$&#123;event.propertyName&#125;</span> changed from <span class="subst">$&#123;event.oldValue&#125;</span> to <span class="subst">$&#123;event.newValue&#125;</span>&quot;</span>)</span><br><span class="line">		&#125;</span><br><span class="line">	)</span><br><span class="line">&gt;&gt; p.age = <span class="number">35</span> </span><br><span class="line">&gt;&gt;&gt; Property age changed from <span class="number">34</span> to <span class="number">35</span> </span><br><span class="line">&gt;&gt; p.salary = <span class="number">2100</span></span><br><span class="line">&gt;&gt;&gt; Property salary changed from <span class="number">2000</span> to <span class="number">2100</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight kotlin"><figcaption><span>위임프로퍼티 구현 (프로퍼티 리팩토링)</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ObservableProperty</span></span>(<span class="keyword">val</span> propName:String, <span class="keyword">var</span> propValue:<span class="built_in">Int</span>, <span class="keyword">val</span> changeSupport:PropertyChangeSupport) &#123;</span><br><span class="line">	<span class="function"><span class="keyword">fun</span> <span class="title">getValue</span><span class="params">()</span></span>: <span class="built_in">Int</span> = propValue </span><br><span class="line">	<span class="function"><span class="keyword">fun</span> <span class="title">setValue</span><span class="params">(newValue:<span class="type">Int</span>)</span></span> &#123;</span><br><span class="line">		<span class="keyword">val</span> oldValue = propValue</span><br><span class="line">		propValue = newValue</span><br><span class="line">		changeSupport.firePropertyChange(propName,oldValue,newValue)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>(<span class="keyword">val</span> name:String,age:<span class="built_in">Int</span>,salary:<span class="built_in">Int</span>) &#123;</span><br><span class="line">	<span class="keyword">val</span> _age = ObservableProperty(<span class="string">&quot;age&quot;</span>, age, changeSupport)</span><br><span class="line">	<span class="keyword">var</span> age: <span class="built_in">Int</span> </span><br><span class="line">		<span class="keyword">get</span>() = _age.getValue()</span><br><span class="line">		<span class="keyword">set</span>(value) &#123;_age.setValue(value)&#125;</span><br><span class="line">	<span class="keyword">val</span> _salary:<span class="built_in">Int</span> </span><br><span class="line">		<span class="keyword">get</span>() = _salary.getValue()</span><br><span class="line">		<span class="keyword">set</span>(value) &#123;_salary.setValue(value)&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight kotlin"><figcaption><span>위임프로퍼티 구현 (위임할수있도록 재구성)</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ObservableProperty</span></span>(<span class="keyword">var</span> propValue:<span class="built_in">Int</span>, <span class="keyword">val</span> changeSupport:PropertyChangeSupport) &#123;</span><br><span class="line">	<span class="keyword">operator</span> <span class="function"><span class="keyword">fun</span> <span class="title">getValue</span><span class="params">(p:<span class="type">Person</span>, prop:<span class="type">KProperty</span>&lt;*&gt;)</span></span>: <span class="built_in">Int</span> = propValue </span><br><span class="line">	<span class="keyword">operator</span> <span class="function"><span class="keyword">fun</span> <span class="title">setValue</span><span class="params">(p:<span class="type">Person</span>, prop:<span class="type">KProperty</span>&lt;*&gt;, newValue:<span class="type">Int</span>)</span></span> &#123;</span><br><span class="line">		<span class="keyword">val</span> oldValue = propValue</span><br><span class="line">		propValue = newValue</span><br><span class="line">		changeSupport.firePropertyChange(propName,oldValue,newValue)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>(<span class="keyword">val</span> name:String,age:<span class="built_in">Int</span>,salary:<span class="built_in">Int</span>): PropertyChangeAware() &#123;</span><br><span class="line">	<span class="keyword">var</span> age:<span class="built_in">Int</span> <span class="keyword">by</span> ObservableProperty(age,changeSupport)</span><br><span class="line">	<span class="keyword">var</span> salary:<span class="built_in">Int</span> <span class="keyword">by</span> ObservableProperty(salary,changeSupport)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>어떤 부분이 재구성되었는가?</p>
<ul>
<li>관례에 사용되는 getValue/setValue에 operator가 붙었음</li>
<li>KProperty사용됨. (KProperty.name을 통해 메소드가 처리할 프로퍼티 이름을 알수있음)</li>
<li>주생성자의 propName이 빠졌음 (KProperty사용으로인함)</li>
</ul>
<figure class="highlight kotlin"><figcaption><span>위임프로퍼티 구현 (Delgate.observable을 사용해 프로퍼티 변경구현)</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>(<span class="keyword">val</span> name:String,age:<span class="built_in">Int</span>,salary:<span class="built_in">Int</span>) : PropertyChangeAware &#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">val</span> observer = &#123;</span><br><span class="line">		prop: KProperty&lt;*&gt;, oldValue:<span class="built_in">Int</span>, newValue:<span class="built_in">Int</span> -&gt; </span><br><span class="line">		changeSupport.firePropertyChange(prop.name, oldValue,newValue)</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">var</span> age:<span class="built_in">Int</span> <span class="keyword">by</span> Delegates.observable(age,observer)</span><br><span class="line">	<span class="keyword">var</span> salary:<span class="built_in">Int</span> <span class="keyword">by</span> Delegates.observable(salary,observer)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="위임프로퍼티-컴파일-규칙"><a href="#위임프로퍼티-컴파일-규칙" class="headerlink" title="위임프로퍼티 컴파일 규칙"></a>위임프로퍼티 컴파일 규칙</h3><figure class="highlight kotlin"><figcaption><span>컴파일 규칙</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span> </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> prop:Type <span class="keyword">by</span> MyDelegate()</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">val</span> c = C()</span><br><span class="line"></span><br><span class="line"><span class="comment">//컴파일 시 </span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">val</span> &lt;delegate&gt; = MyDelegate()</span><br><span class="line">	<span class="keyword">var</span> prop:Type </span><br><span class="line">	<span class="keyword">get</span>() = &lt;delegate&gt;.getValue(<span class="keyword">this</span>,&lt;property&gt;)</span><br><span class="line">	<span class="keyword">set</span>(value:Type) = &lt;delegate&gt;.setValue(<span class="keyword">this</span>,&lt;property&gt;,value)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>맨처음 설명 그대로 참조하자</li>
</ul>
<h3 id="프로퍼티-값을-맵에-저장"><a href="#프로퍼티-값을-맵에-저장" class="headerlink" title="프로퍼티 값을 맵에 저장"></a>프로퍼티 값을 맵에 저장</h3><ul>
<li>확장가능객체 : 자신의 프로퍼티를 동적으로 정의할 수 있는 객체를 만들때 위임 프로퍼티를 활용하는객체 </li>
</ul>
<figure class="highlight kotlin"><figcaption><span>값을 맵에 저장하는 프로퍼티 정의</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">val</span> _attributes = hashMapOf&lt;String,String&gt;()</span><br><span class="line">	<span class="function"><span class="keyword">fun</span> <span class="title">setAttribute</span><span class="params">(attrName:<span class="type">String</span>,value:<span class="type">String</span>)</span></span> &#123;</span><br><span class="line">		_attributes[attrName] = value</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//필수정보 </span></span><br><span class="line">	<span class="keyword">val</span> name:String </span><br><span class="line">		<span class="keyword">get</span>() = _attributes[<span class="string">&quot;name&quot;</span>]!! <span class="comment">//수동으로 맵에서 꺼냄 </span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//위임사용</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">val</span> _attributes = hashMapOf()</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">fun</span> <span class="title">setAttribute</span><span class="params">(attrName:<span class="type">String</span>, value:<span class="type">String</span>)</span></span> &#123;</span><br><span class="line">		_attributes[attrName] = value </span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">val</span> name:String <span class="keyword">by</span> _attributes</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Map과 MutableMap 인터페이스에 대해 getValue/setValue 확장함수를 제공하기 때문에 위 부분이 동작하게됨.</li>
<li>getValue에서 맵에 프로퍼티값을 저장할때는 자동으로 프로퍼티 이름을 키로 활용함. </li>
</ul>
<h3 id="프레임워크에서-위임-프로퍼티-활용"><a href="#프레임워크에서-위임-프로퍼티-활용" class="headerlink" title="프레임워크에서 위임 프로퍼티 활용"></a>프레임워크에서 위임 프로퍼티 활용</h3><figure class="highlight kotlin"><figcaption><span>위임프로퍼티를 활용해 DB컬럼 접근</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">object</span> Users: IdTable() &#123;</span><br><span class="line">	<span class="keyword">val</span> name = varchar(<span class="string">&quot;name&quot;</span>, length=<span class="number">50</span>,).index()</span><br><span class="line">	<span class="keyword">val</span> age = integer(<span class="string">&quot;age&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span></span>(id:EntityID): Entity(id) &#123;</span><br><span class="line">	<span class="keyword">var</span> name:String <span class="keyword">by</span> Users.name <span class="comment">//사용자 이름은 디비 name컬럼에 들어있음 </span></span><br><span class="line">	<span class="keyword">var</span> age:<span class="built_in">Int</span> <span class="keyword">by</span> Users.age </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure> 

<ul>
<li>Users는 디비 전체에서 단 하나만 존재하므로 object(싱글턴객체)로 정의 </li>
<li>당연한 말이지만 위임을 사용가능한 이유는 getValue/setValue가 Coloumn 클래스내 정의되어있어서 위임이 가능했다. </li>
<li>위 디비 orm프레임워크는 Exposed프레임워크이다. </li>
</ul>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/2021/08/10/kotlin-basic-5/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2021/08/05/kotlin-basic-4/"
                            aria-label=": kotlin-basic-4"
                        >
                            kotlin-basic-4
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2021-08-05T07:59:46+00:00">
	
		    Aug 05, 2021
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/KotlinInAction/">KotlinInAction</a>, <a class="category-link" href="/categories/Study/">Study</a>, <a class="category-link" href="/categories/%EC%BD%94%ED%8B%80%EB%A6%B0%EB%AC%B8%EB%B2%95-%EA%B8%B0%EC%B4%88/">코틀린문법&기초</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="코틀린-타입-시스템"><a href="#코틀린-타입-시스템" class="headerlink" title="코틀린 타입 시스템"></a>코틀린 타입 시스템</h1><blockquote><ul>
<li>null 이 될수있는 타입과 null을 처리하는 구문의 문법 </li>
<li>코틀린 원시 타입 소개와 자바 타입과 코틀린 원시 타입의 관계 </li>
<li>코틀린 컬렉션 소개와 자바 컬렉션과 코틀린 컬렉션의 관계</li>
</ul>
</blockquote>

<h2 id="Null-가능성"><a href="#Null-가능성" class="headerlink" title="Null 가능성"></a>Null 가능성</h2><h3 id="Null이-될수있는-타입"><a href="#Null이-될수있는-타입" class="headerlink" title="Null이 될수있는 타입"></a>Null이 될수있는 타입</h3><ul>
<li>기본적으로 모든 타입은 null 허용이 안됨.</li>
<li>타입에 null을 허용하려면 ? 를 타입뒤에 붙여야함. (ex&gt; val x:String? = null) </li>
</ul>
<h3 id="안전한-호출-연산자"><a href="#안전한-호출-연산자" class="headerlink" title="안전한 호출 연산자: ?"></a>안전한 호출 연산자: ?</h3><ul>
<li>?. 연산자는 null검사와 메소드 호출을 한번의 연산으로 수행한다. (ex&gt; s?.toUpperCase() =&gt; if(s != null) s.toUpperCase() else null)</li>
<li>값이 존재하면 값을 리턴하고, 없으면 Null을 리턴해준다. </li>
<li>?. 연산자를 사용하면 반환타입은 ?로 반환해야함. (ex&gt; val allCaps: String? = s?.toUpperCase())</li>
</ul>
<h3 id="엘비스-연산자"><a href="#엘비스-연산자" class="headerlink" title="엘비스 연산자 : ?:"></a>엘비스 연산자 : ?:</h3><ul>
<li>?:(엘비스연산자)는 null대신 사용할 디폴트값을 지정할때 편리하게 사용하는 연산자</li>
</ul>
<figure class="highlight kotlin"><figcaption><span>evis</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">foo</span><span class="params">(s:<span class="type">String</span>?)</span></span> &#123;</span><br><span class="line">	<span class="keyword">val</span> t:String = s ?: <span class="string">&quot;&quot;</span> </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">strLenSafe</span><span class="params">(s:<span class="type">String</span>?)</span></span>: <span class="built_in">Int</span> = s?.length ?: <span class="number">0</span></span><br></pre></td></tr></table></figure>


<figure class="highlight kotlin"><figcaption><span>evis-throw</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Address</span></span>(<span class="keyword">val</span> streetAddress:String, <span class="keyword">val</span> zipCode:<span class="built_in">Int</span>, <span class="keyword">val</span> city:String, <span class="keyword">val</span> country:String) </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Company</span></span>(<span class="keyword">val</span> name:String, <span class="keyword">val</span> address:Address?)</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>(<span class="keyword">val</span> name:String, <span class="keyword">val</span> company:Company?)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">printShippingLabel</span><span class="params">(person:<span class="type">Person</span>)</span></span> &#123;</span><br><span class="line">	<span class="keyword">val</span> address = person.company?.address ?: <span class="keyword">throw</span> IlleagalArgumentException(<span class="string">&quot;No Address&quot;</span>)</span><br><span class="line">	with (address) &#123;</span><br><span class="line">		println(streetAddress)</span><br><span class="line">		println(<span class="string">&quot;<span class="variable">$zipcode</span> <span class="variable">$city</span>, <span class="variable">$country</span>&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="keyword">val</span> address = Address(<span class="string">&quot;ElvisStreet&quot;</span>, <span class="number">110</span>, <span class="string">&quot;Sanfrancico&quot;</span>, <span class="string">&quot;USA&quot;</span>)</span><br><span class="line">&gt;&gt; <span class="keyword">val</span> company = Company(<span class="string">&quot;Algo&quot;</span>, address)</span><br><span class="line">&gt;&gt; <span class="keyword">val</span> person = Person(<span class="string">&quot;Dawn&quot;</span>, company)</span><br><span class="line"></span><br><span class="line">&gt;&gt; printShippingLabel(person)</span><br><span class="line">&gt;&gt;&gt; ElvisStreet </span><br><span class="line">&gt;&gt;&gt; <span class="number">110</span> Sanfrancico, USA</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; printShippingLabel(Person(<span class="string">&quot;Zero&quot;</span>,<span class="literal">null</span>))</span><br><span class="line">&gt;&gt;&gt; java.lang.IlleagalArgumentException: No Adress </span><br></pre></td></tr></table></figure>

<h3 id="안전한-캐스트-as"><a href="#안전한-캐스트-as" class="headerlink" title="안전한 캐스트: as?"></a>안전한 캐스트: as?</h3><ul>
<li>as는 타입캐스트를 시켜주는 연산자이다. as?는 ?연산자 처럼 타입이 존재하지 않으면 null을 리턴해줌. </li>
<li>val otherPerson = o as? Person ?: return false</li>
</ul>
<h3 id="Null-아님을-단언"><a href="#Null-아님을-단언" class="headerlink" title="Null 아님을 단언: !!"></a>Null 아님을 단언: !!</h3><ul>
<li>해당 타입 뒤에 !! 연산자를 붙이면 null이 들어오면 안된다는 소리다. 들어오면 NullPointerException 예외발생 </li>
<li>val sNotNull:String = s!! //null 들어오면 예외발생 </li>
<li>!! 연산자를 한줄에 여러 단언문을 사용하는 부분은 피하라 (어디서 예외가 발생했는지 알길이 없다.) (ex&gt; person.company!!.address!!.country -&gt; 이런거하면 어디서 null예외가 떨어졌는지 모른다.)</li>
</ul>
<h3 id="let-함수"><a href="#let-함수" class="headerlink" title="let 함수"></a>let 함수</h3><ul>
<li>let 은 해당 값이 null이아니면 수행, 아니면 미수행 처리해주는 역할을 한다.</li>
<li>여러값이 null인지를 검사해야한다면, let호출을 중첩시킬수있다. 하지만 코드가 클린하지 못하기때문에, 그럴땐 if를 사용해서 모든값을 한꺼번에 검사하는편이 좋다. </li>
</ul>
<figure class="highlight kotlin"><figcaption><span>let</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">sendToEmail</span><span class="params">(email: <span class="type">String</span>)</span></span> &#123;</span><br><span class="line">	println(<span class="string">&quot;Sending email to <span class="variable">$email</span>&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&gt;&gt; <span class="keyword">var</span> email: String? = <span class="string">&quot;yolo@ex.com&quot;</span></span><br><span class="line">&gt;&gt; email?.let &#123; sendToEmail(it)&#125;</span><br><span class="line">&gt;&gt;&gt; Sending email to <span class="symbol">yolo@</span>ex.com</span><br><span class="line"></span><br><span class="line">&gt;&gt; email = <span class="literal">null</span></span><br><span class="line">&gt;&gt; email?.let&#123;sendToEmail(it)&#125;</span><br><span class="line">&gt;&gt;&gt; 아무실행없음</span><br><span class="line"></span><br><span class="line"><span class="comment">//let 사용안한예 </span></span><br><span class="line"><span class="keyword">val</span> person:Person? = getTheBestPersonInTheWorld()</span><br><span class="line"><span class="keyword">if</span>(persion != <span class="literal">null</span>) sendToEmail(person.email)</span><br><span class="line"></span><br><span class="line"><span class="comment">//let 사용예</span></span><br><span class="line">getTheBestPersonInTheWorld()?.let&#123;sendEmailTo(it.email)&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//위함수가 null을 반환한다면? 아무일도 일어나지 않는다.</span></span><br></pre></td></tr></table></figure>

<h3 id="나중에-초기화할-프로퍼티-lateinit"><a href="#나중에-초기화할-프로퍼티-lateinit" class="headerlink" title="나중에 초기화할 프로퍼티 : lateinit"></a>나중에 초기화할 프로퍼티 : lateinit</h3><ul>
<li>lateinit을 사용시 반드시 var로 사용해야함. val로 사용시 final 필드로 컴파일되어 반드시 초기값을 요구하게됨. </li>
<li>프로퍼티를 초기화하기전에 lateinit변수에 접근하면 lateinit property myService has not been initialized 라는 예외가 발생함 </li>
<li>lateinit은 의존관계주입 (DI) 프레임워크와 함께 사용하는 경우가 많음. </li>
</ul>
<figure class="highlight kotlin"><figcaption><span>lateinit</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyService</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">fun</span> <span class="title">performAction</span><span class="params">()</span></span>: String = <span class="string">&quot;foo&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyTest</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">lateinit</span> <span class="keyword">var</span> myService:MyService</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@Before</span> <span class="function"><span class="keyword">fun</span> <span class="title">setUp</span><span class="params">()</span></span> &#123;</span><br><span class="line">		myService = MyService()</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@Test</span> <span class="function"><span class="keyword">fun</span> <span class="title">testAction</span><span class="params">()</span></span> &#123;</span><br><span class="line">		Assert.assertEquals(<span class="string">&quot;foo&quot;</span>, myService.performAction())</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="null이-될수있는-타입-확장"><a href="#null이-될수있는-타입-확장" class="headerlink" title="null이 될수있는 타입 확장"></a>null이 될수있는 타입 확장</h3><ul>
<li>null이 될수있는 확장함수는 안전한 호출(? 연산자) 없이 호출 가능 </li>
<li>null이 허용된 변수에 대한 안전한 호출 없이 let 을 호출하면 람다의 인자는 null이 될수있는 타입으로 추론됨. 따라서 안전한 호출을 위해 ?연산자를 반드시 사용해야함. </li>
</ul>
<h3 id="타입-파라미터의-null가능성"><a href="#타입-파라미터의-null가능성" class="headerlink" title="타입 파라미터의 null가능성"></a>타입 파라미터의 null가능성</h3><ul>
<li>제네릭타입 (타입 파라미터) 를 사용하게 되면 타입명끝에 ?가 없더라도 T가 null이 될수 있는 타입이다. </li>
</ul>
<figure class="highlight kotlin"><figcaption><span>generic</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="type">&lt;T&gt;</span> <span class="title">printHashCode</span><span class="params">(t:<span class="type">T</span>)</span></span> &#123;</span><br><span class="line">	println(t?.hashCode()) <span class="comment">//타입 파라미터 t는 무조건 안전한 호출을 통해서만 가져와야함.T의 타입은 Any?로 반드시 추론됨. </span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&gt;&gt; printHashCode(<span class="literal">null</span>)</span><br><span class="line">&gt;&gt;&gt; <span class="literal">null</span></span><br></pre></td></tr></table></figure>

<h2 id="코틀린의-원시타입"><a href="#코틀린의-원시타입" class="headerlink" title="코틀린의 원시타입"></a>코틀린의 원시타입</h2><h3 id="원시타입-Int-Boolean-등"><a href="#원시타입-Int-Boolean-등" class="headerlink" title="원시타입 : Int, Boolean 등.."></a>원시타입 : Int, Boolean 등..</h3><ul>
<li>자바에서는 원시타입 , 참조타입으로 사용하지만 코틀린은 하나의 타입으로만 사용함 </li>
<li>코틀린은 하나의 타입으로만 사용하기때문에 늘 객체로 타입을 받지않고, 케바케로 자바로 컴파일시 원시타입 으로 줄지 참조타입으로 줄지 구분 해서 반환하게됨. (컬렉션과 같은 제네릭을 사용할경우는 객체로 나머지는 원시타입으로 저장)</li>
<li>코틀린에서는 오토박싱 처리 되는 부분이 불가능하다. 예를들면 Int형타입의 변수를 Long으로 변경하는것 처럼 자바에서는 되는 부분이 코틀린에서는 불가능하다. 이유는 타입안정성때문. 따라서 Int형타입을 Long으로 변경후 사용해야함.</li>
</ul>
<h3 id="Any-Any-최상위타입-Object"><a href="#Any-Any-최상위타입-Object" class="headerlink" title="Any,Any? : 최상위타입 (Object)"></a>Any,Any? : 최상위타입 (Object)</h3><ul>
<li>Any는 자바에서 Object타입이라 생각하면 됨. </li>
</ul>
<h3 id="Unit타입-코틀린의-void"><a href="#Unit타입-코틀린의-void" class="headerlink" title="Unit타입 : 코틀린의 void"></a>Unit타입 : 코틀린의 void</h3><ul>
<li>Unit타입은 자바의 void와 흡사한 기능을한다. </li>
<li>Unit과 void는 뭔차이인가? Unit은 void와 달리 타입 인자로 사용가능. (제네릭파라미터를 반환하는 함수를 오버라이드하면서 반환타입으러 Unit을 쓸때 유용함. )</li>
</ul>
<figure class="highlight kotlin"><figcaption><span>Unit</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Processor</span>&lt;<span class="type">T</span>&gt; </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">fun</span> <span class="title">process</span><span class="params">()</span></span>:T</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NoResultProcessor</span>: <span class="type">Processor</span>&lt;<span class="type">Unit</span>&gt; </span>&#123;</span><br><span class="line">	<span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">process</span><span class="params">()</span></span> &#123;</span><br><span class="line">		<span class="comment">// process code </span></span><br><span class="line">		<span class="comment">// Unit이기때문에 return 없음. </span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Nothing-타입-이-함수는-결코-정상적으로-끝나지-않는다"><a href="#Nothing-타입-이-함수는-결코-정상적으로-끝나지-않는다" class="headerlink" title="Nothing 타입: 이 함수는 결코 정상적으로 끝나지 않는다.."></a>Nothing 타입: 이 함수는 결코 정상적으로 끝나지 않는다..</h3><ul>
<li>Nothing은 기본적으로 아무것도 포함하지 않음. 따라서 Nothing은 함수의 반환타입이나 반환타입으로 쓰일 타입 파라미터로만 쓸수있음. </li>
<li>Nothing을 반환하는 함수를 엘비스 연산자의 우항에 사용해서 전제조건을 검사할수있음. </li>
</ul>
<h2 id="컬렉션과-배열"><a href="#컬렉션과-배열" class="headerlink" title="컬렉션과 배열"></a>컬렉션과 배열</h2><h3 id="컬렉션"><a href="#컬렉션" class="headerlink" title="컬렉션"></a>컬렉션</h3><ul>
<li>코틀린에서 컬렉션은 읽기전용 컬렉션 과 변경가능한 컬렉션 두가지를 나눠서 사용가능</li>
<li>코틀린에서는 가능하면 읽기전용 컬렉션을 디폴트로 사용하길 권장함. (일반적인 규약으로 지침함) 컬렉션을 변경해야할때만 변경가능한 버전을 사용하길 권장 </li>
<li>읽기전용 컬렉션이 항상 스레드 안전하지는 않다. 따라서 다중 스레드 환경에서는 데이터를 다루는경우, 그 데잍러를 적절히 동기화 하거나 동시 접근을 허용하는 데이터 구조를 활용해야함. </li>
</ul>
<h3 id="배열"><a href="#배열" class="headerlink" title="배열"></a>배열</h3><ul>
<li>배열상태에서 람다로 연산 수행 가능 (ex&gt; val squres = IntArray(5) {i -&gt; (i+1) * (i+1)})</li>
<li>filter,map 등의 처리도 가능함. </li>
<li>배열에도 똑같이 확장함수를 사용할수잇다. 다만 이런 함수가 반환하는 값은 배열이 아니라 리스트로 변환됨. </li>
<li>원시타입 배열 (int/long등) 도 제공함 </li>
<li>코들린의 Array는 자바 배열로 컴파일됨 </li>
</ul>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/2021/08/05/kotlin-basic-4/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2021/07/24/kotlin-basic-3/"
                            aria-label=": kotlin-basic-3"
                        >
                            kotlin-basic-3
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2021-07-24T05:19:04+00:00">
	
		    Jul 24, 2021
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/KotlinInAction/">KotlinInAction</a>, <a class="category-link" href="/categories/Study/">Study</a>, <a class="category-link" href="/categories/%EC%BD%94%ED%8B%80%EB%A6%B0%EB%AC%B8%EB%B2%95-%EA%B8%B0%EC%B4%88/">코틀린문법&기초</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="람다로-프로그래밍"><a href="#람다로-프로그래밍" class="headerlink" title="람다로 프로그래밍"></a>람다로 프로그래밍</h1><h2 id="코틀린의-람다는"><a href="#코틀린의-람다는" class="headerlink" title="코틀린의 람다는?"></a>코틀린의 람다는?</h2><ul>
<li>코틀린의 람다는 자바8의 문법과 거의 유사하다. </li>
<li>val sum = {x:Int, y:Int -&gt; x+y} 이 예시로 보면 자바의 약간의 차이점이라면 컬리브레이션을 전체로 감싼다는것이 특징임 </li>
</ul>
<figure class="highlight java"><figcaption><span>kotlin-lambda</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">val people = listOf(Person(<span class="string">&quot;Alice&quot;</span>,<span class="number">29</span>), Person(<span class="string">&quot;Bob&quot;</span>,<span class="number">37</span>))</span><br><span class="line">println(people.maxBy(it.age)) </span><br><span class="line"><span class="comment">// people.maxBy(&#123;p:Person -&gt; p.age&#125;) or people.maxBy()&#123;p:Person-&gt;p.age&#125; or people.maxBy()&#123;p -&gt; p.age&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="현재-영역에-있는-변수에-접근-변수-캡처링-클로저"><a href="#현재-영역에-있는-변수에-접근-변수-캡처링-클로저" class="headerlink" title="현재 영역에 있는 변수에 접근 (변수 캡처링? 클로저?)"></a>현재 영역에 있는 변수에 접근 (변수 캡처링? 클로저?)</h3><ul>
<li>자바에서도 람다에서 해당 메소드의 변수에 접근할수있게 도와주는 변수캡처링 (클로저)를 지원한다. </li>
<li>자바와 차이점은 자바8에서는 람다에서 접근하는 변수가 final(불변변수) 만 접근가능하지만, 코틀린은 불변이 아니어도 접근가능하다. </li>
</ul>
<figure class="highlight java"><figcaption><span>kotlin-변수캡쳐링</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">fun <span class="title">printMessageWithPrefix</span><span class="params">(message: Collection&lt;String&gt;, prefix:String)</span> </span>&#123;</span><br><span class="line">	message.forEach &#123;</span><br><span class="line">		println(<span class="string">&quot;$prefix $it&quot;</span>) <span class="comment">// 람다로 prefix 정보를 받았음 </span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">fun <span class="title">printProblemCounts</span><span class="params">(res:Collection&lt;String&gt;)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> clientError = <span class="number">0</span></span><br><span class="line">	<span class="keyword">var</span> serverError = <span class="number">0</span> </span><br><span class="line">	res.forEach &#123;</span><br><span class="line">		<span class="keyword">if</span>(it.startWith(<span class="string">&quot;4&quot;</span>)) &#123;</span><br><span class="line">			clientError++</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(it.startWith(<span class="string">&quot;5&quot;</span>)) &#123;</span><br><span class="line">			serverError++ </span><br><span class="line">		&#125;</span><br><span class="line"> 	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="멤버-참조-java-메소드-레퍼런스"><a href="#멤버-참조-java-메소드-레퍼런스" class="headerlink" title="멤버 참조 (java:메소드 레퍼런스)"></a>멤버 참조 (java:메소드 레퍼런스)</h3><ul>
<li>자바의 메소드 레퍼런스와 동일함 </li>
</ul>
<figure class="highlight java"><figcaption><span>kotlin-메소드레퍼런스</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">val people = listOf(Person(<span class="string">&quot;Alice&quot;</span>,<span class="number">29</span>), Person(<span class="string">&quot;Bob&quot;</span>,<span class="number">37</span>))</span><br><span class="line">people.maxBy(Person::age)</span><br></pre></td></tr></table></figure>


<h2 id="컬렉션-함수형-API"><a href="#컬렉션-함수형-API" class="headerlink" title="컬렉션 함수형 API"></a>컬렉션 함수형 API</h2><ul>
<li>자바8에서 사용하던 stream의 filter,map 등 어느정도 문법이 유사함 (생각하는 문법이 거의 맞음)</li>
</ul>
<h3 id="filter-map-Collection-Map-사용"><a href="#filter-map-Collection-Map-사용" class="headerlink" title="filter/map, Collection Map 사용"></a>filter/map, Collection Map 사용</h3><figure class="highlight java"><figcaption><span>kotlin-stream</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">val people = listOf(Person(<span class="string">&quot;Alice&quot;</span>,<span class="number">29</span>), Person(<span class="string">&quot;Bob&quot;</span>,<span class="number">37</span>))</span><br><span class="line">people.filter&#123; it.age &gt; <span class="number">30</span>&#125;</span><br><span class="line">people.map(People::name)</span><br><span class="line"><span class="comment">// people.filter&#123;it.age &gt; 30&#125;.map(People::name)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//Collection Map에서도 사용가능 </span></span><br><span class="line">val numbers = mapOf(<span class="number">0</span> to <span class="string">&quot;zero&quot;</span>, <span class="number">1</span> to <span class="string">&quot;one&quot;</span>)</span><br><span class="line">numbers.mapValues&#123;it.value.toUpperCase()&#125; <span class="comment">//filterValues,mapValues등도 사용가능 </span></span><br></pre></td></tr></table></figure>

<h3 id="all-any-count-find"><a href="#all-any-count-find" class="headerlink" title="all,any,count,find"></a>all,any,count,find</h3><ul>
<li>all: 해당 조건이 모든 엘리먼트가 만족하는 경우 true 아님 false리턴 (java8 : allMatch)</li>
<li>any: 해당 조건이 일부 엘리먼트가 하나라도 만족하는 경우 true 아님 false 리턴 (java8: anyMatch)</li>
<li>count: 갯수 리턴 </li>
<li>find: 해당 조건에 맞는 원소 하나라도 만족하면 해당 엘리먼트 리턴 없으면 null를 리턴함. (java8: findFirst)</li>
</ul>
<h3 id="groupBy"><a href="#groupBy" class="headerlink" title="groupBy"></a>groupBy</h3><figure class="highlight java"><figcaption><span>kotlin-groupby</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">val people = listOf(Person(<span class="string">&quot;Alice&quot;</span>,<span class="number">29</span>), Person(<span class="string">&quot;Bob&quot;</span>,<span class="number">37</span>))</span><br><span class="line">people.groupBy&#123;it.age&#125;</span><br><span class="line"></span><br><span class="line">&gt; &#123;<span class="number">29</span>=[Person(name=Alice,age=<span class="number">29</span>)], <span class="number">37</span>=[Person(name=Bob,age=<span class="number">37</span>)]&#125;</span><br><span class="line"></span><br><span class="line">val list = listOf(<span class="string">&quot;a&quot;</span>,<span class="string">&quot;ab&quot;</span>,<span class="string">&quot;b&quot;</span>)</span><br><span class="line">list.groupBy(String::first)</span><br><span class="line">&gt; a=[a,ab], b=[b]</span><br></pre></td></tr></table></figure>

<h3 id="flatMap-flatten-중첩된-컬렉션의-안의-원소-처리"><a href="#flatMap-flatten-중첩된-컬렉션의-안의-원소-처리" class="headerlink" title="flatMap, flatten : 중첩된 컬렉션의 안의 원소 처리"></a>flatMap, flatten : 중첩된 컬렉션의 안의 원소 처리</h3><figure class="highlight java"><figcaption><span>kotlin-flatmap</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">class Book(val title:String, val authors:List&lt;String&gt;)</span><br><span class="line">val books = listOf(Book(<span class="string">&quot;Thursday Next&quot;</span>, listOf(<span class="string">&quot;Jasper Fforde&quot;</span>)), Book(<span class="string">&quot;Mart&quot;</span>, listOf(<span class="string">&quot;Terry Pratchett&quot;</span>)), Book(<span class="string">&quot;Good Omens&quot;</span>, listOf(<span class="string">&quot;Terry Pratchett&quot;</span>, <span class="string">&quot;Neil Gaiman&quot;</span>)))</span><br><span class="line">books.flatMap&#123;it.authors&#125;.toSet()</span><br><span class="line">&gt; [Jasper Fforde,Terry Pratchett,Neil Gaiman]</span><br></pre></td></tr></table></figure>

<ul>
<li>리스트의 리스트가 있는데 모든 중첩된 리스트의 원소를 한 리스트로 모아야한다면 flatMap을 떠올리겠지만, 특별히 변환해야할 내용이 없다면 리스트의 리스트를 평평하게 펼치ㄱ만 하면됨. 그런경우에는 listOfLists.flatten() 처럼 flatten함수를 사용할수있음 </li>
</ul>
<h3 id="지연계산-lazy-컬렉션-연산"><a href="#지연계산-lazy-컬렉션-연산" class="headerlink" title="지연계산(lazy) 컬렉션 연산"></a>지연계산(lazy) 컬렉션 연산</h3><ul>
<li>앞서 map/filter 같은 함수는 컬렉션을 즉시(eager) 생성한다. 이는 컬렉션 함수를 연쇄하면 매 단계마다 계산 중간 결과를 새로운 컬렉션에 임시로 담는다는 말이다. </li>
<li>시퀀스(sequence)를 사용하면 중간 임시 컬렉션을 사용하지않고 컬렉션 연산이 가능하다. </li>
<li>시퀀스의 원소는 필요할때 계산된다. 따라서 중간 처리 결과를 저장하지 않고 연산을 연쇄적으로 적용해서 효율적으로 계산을 수행할수있다. </li>
<li>시퀀스 연산은 중간 연산(filter/map)과 최종 연산(toList)으로 나뉜다. (java8 stream과 방식이 유사)</li>
<li>최종연산을 수행하지 않고 중간연산만 수행하면 아무내용도 출력하지 않음. 이유는 최종연산이 호출될때 결과를 리턴하는 lazy 연산이기 때문.  </li>
</ul>
<figure class="highlight java"><figcaption><span>kotlin-lazy-sequence</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">listOf(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>).asSequence()</span><br><span class="line">.map&#123;print(<span class="string">&quot;map($it)&quot;</span>); it * it&#125;</span><br><span class="line">.filter(print(<span class="string">&quot;filter($it)&quot;</span>) it % <span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">.toList();</span><br><span class="line"></span><br><span class="line">-&gt; map(<span class="number">1</span>) filter(<span class="number">1</span>) filter(<span class="number">4</span>) map(<span class="number">3</span>) filter(<span class="number">9</span>) map(<span class="number">4</span>) filter(<span class="number">16</span>)</span><br></pre></td></tr></table></figure>

<h3 id="시퀀스-만들기"><a href="#시퀀스-만들기" class="headerlink" title="시퀀스 만들기"></a>시퀀스 만들기</h3><ul>
<li>generate sequence라고 생각하면됨. </li>
</ul>
<figure class="highlight java"><figcaption><span>kotlin-generate-sequence</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">val naturalNumbers = generateSequence(<span class="number">0</span>) &#123;it + <span class="number">1</span>&#125;</span><br><span class="line">val numberTo100 = naturalNumbers.takeWhile( it &lt;= <span class="number">100</span>)</span><br><span class="line">numberTo100.sum()</span><br><span class="line"> </span><br><span class="line">fun File.isInsideHiddenDirectory() = generateSquence(<span class="keyword">this</span>) &#123;it.parentFile&#125;.any&#123;it.isHidden&#125; </span><br><span class="line">val file = File(<span class="string">&quot;/Users/ss/.HiddenDir/a.txt&quot;</span>)</span><br><span class="line">file.isInsideHiddenDirectory()</span><br></pre></td></tr></table></figure>

<h2 id="자바-함수형-인터페이스"><a href="#자바-함수형-인터페이스" class="headerlink" title="자바 함수형 인터페이스"></a>자바 함수형 인터페이스</h2><ul>
<li>람다 와 무명객체는 객체를 명시적으로 선언하는경우 메소드를 호출할때마다 새로운 객체가 생성됨. 람다는 다르다. 정의가 들어있는함수의 변수에 접근하지 않는 람다에 대응하는 무명객체를 메소드를 호출할때마다 반복사용함. </li>
<li>변수캡처링(클로저)를 활용하여 함수형 인터페이스를 호출하면 매번 인스턴스를 생성하고 호출하게됨. </li>
</ul>
<h3 id="코틀린에서-자바-함수형-인터페이스-활용방법"><a href="#코틀린에서-자바-함수형-인터페이스-활용방법" class="headerlink" title="코틀린에서 자바 함수형 인터페이스 활용방법"></a>코틀린에서 자바 함수형 인터페이스 활용방법</h3><figure class="highlight java"><figcaption><span>kotlin-sam-1</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//객체식을 함수형 인터페이스 구현으로 넘김 </span></span><br><span class="line">postponeComputation(<span class="number">1000</span>, object: Runnable &#123;</span><br><span class="line">	<span class="function">override fun <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		println(<span class="number">42</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//프로그램 전체에서 Runnable의 인스턴스는 단 하나만 만들어짐 </span></span><br><span class="line">postponeComputation(<span class="number">1000</span>) &#123;println(<span class="number">42</span>)&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//전역변수로 컴파일되므로 프로그램 안에 단 하난의 인스턴스만 존재함. </span></span><br><span class="line">val run = Runnable&#123;println(<span class="number">42</span>)&#125;</span><br><span class="line"><span class="function">fun <span class="title">handleComputation</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	postponeComputation(<span class="number">1000</span>, run) <span class="comment">//모든 handleComputation 호출에 같은 객체를 사용함. </span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">fun <span class="title">handleComputaion</span><span class="params">(id:String)</span> </span>&#123; <span class="comment">//id 변수 캡처링 </span></span><br><span class="line">	postponeComputation(<span class="number">1000</span>) &#123;println(id)&#125; <span class="comment">// handleComputation을 호출할때마다 새로운 Runnable인터페이스를 생성함. </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="SAM-생성자-람다를-함수형-인터페이스로-명시적으로-변경"><a href="#SAM-생성자-람다를-함수형-인터페이스로-명시적으로-변경" class="headerlink" title="SAM 생성자: 람다를 함수형 인터페이스로 명시적으로 변경"></a>SAM 생성자: 람다를 함수형 인터페이스로 명시적으로 변경</h3><ul>
<li>SAM 생성자는 람다를 함수형 인터페이스의 인스턴스로 변환할수있게 컴파일러가 자동으로 생성한 함수다. </li>
<li>컴파일러가 자동으로 람다를 함수형 인터페이스 무명 클래스로 바꾸지 못하는 경우 SAM생성자를 사용할수있음. </li>
<li>SAM 생성자의 이름은 사용하려는 함수형 인터페이스의 이름과 같다. SAM생성자는 그 함수형 인터페이스의 유일한 추상 메서드의 본문에 사용할 람다만을 인자로 받아서 함수형 인터페이스를 구현하는 클래스의 인스턴스를 반환한다. </li>
</ul>
<figure class="highlight java"><figcaption><span>kotlin-sam-2</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">fun <span class="title">createAllDoneRunnable</span><span class="params">()</span>:Runnable </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> Runnable&#123;println(<span class="string">&quot;All Done!&quot;</span>)&#125;</span><br><span class="line">&#125;</span><br><span class="line">createAllDoneRunnable().run()</span><br><span class="line">All Done! </span><br></pre></td></tr></table></figure>

<h2 id="수신-객체-지정-람다-with와-apply"><a href="#수신-객체-지정-람다-with와-apply" class="headerlink" title="수신 객체 지정 람다 : with와 apply"></a>수신 객체 지정 람다 : with와 apply</h2><h3 id="with-함수"><a href="#with-함수" class="headerlink" title="with 함수"></a>with 함수</h3><figure class="highlight java"><figcaption><span>kotlin-with</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//normal</span></span><br><span class="line"><span class="function">fun <span class="title">alphabet</span><span class="params">()</span>: String </span>&#123;</span><br><span class="line">	val result = StringBuilder();</span><br><span class="line">	<span class="keyword">for</span> (letter in <span class="string">&#x27;A&#x27;</span>..<span class="string">&#x27;Z&#x27;</span>) &#123;</span><br><span class="line">		result.append(letter)</span><br><span class="line">	&#125;</span><br><span class="line">	result.append(<span class="string">&quot;\n Now I Know Alphabet!&quot;</span>)</span><br><span class="line">	<span class="keyword">return</span> result.toString()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//with1 </span></span><br><span class="line"><span class="function">fun <span class="title">alphabet</span><span class="params">()</span>: String </span>&#123;</span><br><span class="line">	val result = StringBuilder();</span><br><span class="line">	<span class="keyword">return</span> with(result) &#123;</span><br><span class="line">		<span class="keyword">for</span> (letter in <span class="string">&#x27;A&#x27;</span>..<span class="string">&#x27;Z&#x27;</span>) &#123;</span><br><span class="line">			<span class="keyword">this</span>.append(letter)</span><br><span class="line">		&#125;</span><br><span class="line">	</span><br><span class="line">		append(<span class="string">&quot;\n Now I Know Alphabet!&quot;</span>)</span><br><span class="line">		<span class="keyword">this</span>.toString()</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//with2 </span></span><br><span class="line"><span class="function">fun <span class="title">alphabet</span><span class="params">()</span> </span>= with(StringBuilder()) &#123;</span><br><span class="line">	<span class="keyword">for</span>(letter in <span class="string">&#x27;A&#x27;</span>..<span class="string">&#x27;Z&#x27;</span>) &#123;</span><br><span class="line">		append(letter)</span><br><span class="line">	&#125;</span><br><span class="line">	append(<span class="string">&quot;\n Now I Know Alphabet!&quot;</span>)</span><br><span class="line">	toString()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="apply-함수"><a href="#apply-함수" class="headerlink" title="apply 함수"></a>apply 함수</h3><ul>
<li>with와 거의같지만, 유일한 차이는 자신에게 전달된 객체를 반환한다. <figure class="highlight java"><figcaption><span>kotlin-apply</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//apply1</span></span><br><span class="line"><span class="function">fun <span class="title">alphabet</span><span class="params">()</span> </span>= StringBuilder().apply &#123;</span><br><span class="line">	<span class="keyword">for</span>(letter in <span class="string">&#x27;A&#x27;</span>..<span class="string">&#x27;Z&#x27;</span>) &#123;</span><br><span class="line">		append(letter)</span><br><span class="line">	&#125;</span><br><span class="line">	append(<span class="string">&quot;\n Now I Know Alphabet!&quot;</span>)</span><br><span class="line">&#125;.toString()</span><br></pre></td></tr></table></figure>
</li>
</ul>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/2021/07/24/kotlin-basic-3/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2021/07/14/kotlin-basic-2/"
                            aria-label=": kotlin-basic-2"
                        >
                            kotlin-basic-2
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2021-07-14T03:50:30+00:00">
	
		    Jul 14, 2021
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/KotlinInAction/">KotlinInAction</a>, <a class="category-link" href="/categories/Study/">Study</a>, <a class="category-link" href="/categories/%EC%BD%94%ED%8B%80%EB%A6%B0%EB%AC%B8%EB%B2%95-%EA%B8%B0%EC%B4%88/">코틀린문법&기초</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="코틀린-클래스-객체-인터페이스"><a href="#코틀린-클래스-객체-인터페이스" class="headerlink" title="코틀린 클래스/객체/인터페이스"></a>코틀린 클래스/객체/인터페이스</h1><h2 id="코틀린-인터페이스"><a href="#코틀린-인터페이스" class="headerlink" title="코틀린 인터페이스"></a>코틀린 인터페이스</h2><ul>
<li>자바8에서 제공하는 인터페이스와 유사한 부분이 많다. (default메서드 기능 /일반적인 인터페이스)</li>
<li>자바와달리 정의된 메서드를 구현체에서 구현메서드에 override 키워드를 반드시 넣어야함 </li>
<li>코틀린에서는 default 메서드를 구현할적에 Default 키워드를 안붙여도됨 </li>
<li>코틀린에서는 default 메서드는 자바8과 유사하다 override로 구현을 따로해도되고, interface상에 구현되어있는 default메서드 사용해도됨. 단, 이름과 시그니처가 같은 디폴트 구현이 2개이상이 있는경우는 반드시 override로 구현해줘야함. 안그러면 컴파일 에러발생함. </li>
<li>자바에서 상위 타입을 가져올때 super를 사용하는데, 코틀린에서는 super&lt;?&gt;로 구현해야함 </li>
</ul>
<figure class="highlight java"><figcaption><span>interface</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Clickable</span> </span>&#123;</span><br><span class="line">	<span class="function">fun <span class="title">click</span><span class="params">()</span> <span class="comment">//일반 메소드 정의</span></span></span><br><span class="line"><span class="function">	fun <span class="title">showOff</span><span class="params">()</span> </span>= println(<span class="string">&quot;I&#x27;m clickable!&quot;</span>) <span class="comment">// 디폴트 메서드 구현 </span></span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Focusable</span> </span>&#123;</span><br><span class="line">	<span class="function">fun <span class="title">setFocus</span><span class="params">(b: Boolean)</span> </span>= println(<span class="string">&quot;I $&#123;if(b) &quot;</span>got<span class="string">&quot; else &quot;</span>lost<span class="string">&quot;&#125; focus. &quot;</span>)</span><br><span class="line">	<span class="function">fun <span class="title">showOff</span><span class="params">()</span> </span>= println(<span class="string">&quot;I&#x27;m focusable!&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Button: Clickable, Focusable &#123;</span><br><span class="line">	<span class="function">override fun <span class="title">click</span><span class="params">()</span> </span>= println(<span class="string">&quot;I was clicked!&quot;</span>)</span><br><span class="line">	<span class="function">override fun <span class="title">showOff</span><span class="params">()</span> </span>&#123; </span><br><span class="line">		<span class="keyword">super</span>&lt;Clickable&gt;.showOff(); </span><br><span class="line">		<span class="keyword">super</span>&lt;Focusable&gt;.showOff(); </span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="open-final-abstarct-변경자-기본적으로-final"><a href="#open-final-abstarct-변경자-기본적으로-final" class="headerlink" title="open,final,abstarct 변경자: 기본적으로 final"></a>open,final,abstarct 변경자: 기본적으로 final</h2><h3 id="open"><a href="#open" class="headerlink" title="open"></a>open</h3><ul>
<li>자바에서 클래스에 final은 상속을 금지하는 키워드이다. </li>
<li>상속을 허용하려면 open 키워드로 상속을 가능하도록 만들어야함. </li>
</ul>
<figure class="highlight java"><figcaption><span>open클래스</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> </span><br><span class="line">open class RichButton:Clickable &#123;</span><br><span class="line">	<span class="function">fun <span class="title">disable</span><span class="params">()</span> </span>&#123;&#125; <span class="comment">// 이함수는 final 이다. 하위클래스가 이 메소드를 orverride할수없음.</span></span><br><span class="line">	<span class="function">open fun <span class="title">animate</span><span class="params">()</span> </span>&#123;&#125; <span class="comment">//이함수는 open이다. 하위클래스가 override할수있음.</span></span><br><span class="line">	<span class="function">override fun <span class="title">click</span><span class="params">()</span> </span>&#123;&#125; <span class="comment">// 이 함수는 열려있는 메소드를 확장받은 메소드기때문에 기본적으로 open되어있음. </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="abstarct"><a href="#abstarct" class="headerlink" title="abstarct"></a>abstarct</h3><figure class="highlight java"><figcaption><span>abstract클래스</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"> </span><br><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Animated</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">abstract</span> fun <span class="title">animate</span><span class="params">()</span> <span class="comment">// 이 함수는 추상함수. 구현은 당연없다. 하위클래스에서 반드시 구현해야함. </span></span></span><br><span class="line"><span class="function">	open fun <span class="title">stopAnimating</span><span class="params">()</span> </span>&#123; <span class="comment">// 추상클래스에 속했더라도 비추상함수는 기본적으로 final이지만, 원한다면 open으로 override를 허용할수있음. </span></span><br><span class="line">	</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function">fun <span class="title">animateTwice</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="가시성-변경자-기본적으로-공개-access-modifier"><a href="#가시성-변경자-기본적으로-공개-access-modifier" class="headerlink" title="가시성 변경자 : 기본적으로 공개 (access modifier)"></a>가시성 변경자 : 기본적으로 공개 (access modifier)</h3><ul>
<li>public, internal, protected, private 4가지 접근제어자로 구성되어있음. </li>
<li>자바와달리 default 접근제어자는 public이다</li>
<li>internal : 같은 모듈안에서만 볼수있음. (클래스멤버,최상위선언)</li>
<li>protected : 클래스멤버는 하위 클래스 안에서만 볼수있고, 최상위 선언은 적용안됨.</li>
<li>private: 클래스멤버는 같은 클래스안에서만 볼수있고, 최상위선언은 같은 파일안에서만볼수있음. </li>
</ul>
<h4 id="코틀린의-모듈"><a href="#코틀린의-모듈" class="headerlink" title="코틀린의 모듈?"></a>코틀린의 모듈?</h4><ul>
<li>gradle/maven/ant 등으로 컴파일되는 단위를 모듈이라함. (claim-api 모듈 / 포함되어있는 모듈까지 domain)</li>
</ul>
<h3 id="내부-클래스와-중첩된-클래스-기본적으로-중첩-클래스"><a href="#내부-클래스와-중첩된-클래스-기본적으로-중첩-클래스" class="headerlink" title="내부 클래스와 중첩된 클래스 : 기본적으로 중첩 클래스"></a>내부 클래스와 중첩된 클래스 : 기본적으로 중첩 클래스</h3><ul>
<li>코틀린 내부에 클래스를 선언하면 기본적으로 중첩클래스가 됨 (자바에서는 static class로 선언해야 묵시적 참조가 사라지기때문)</li>
<li>내부클래스로 지정하면 바깥쪽 클래스에 대한 참조를 저장하게됨. (자바에서는 class 로 선언함. 코틀린에서는 inner키워드붙이고, this@참조할클래스 네임으로 바깥쪽 클래스의 참조를 확인할수있음.)</li>
</ul>
<h3 id="봉인된클래스-클래스-계층정의시-계층-확장-제한"><a href="#봉인된클래스-클래스-계층정의시-계층-확장-제한" class="headerlink" title="봉인된클래스 : 클래스 계층정의시 계층 확장 제한"></a>봉인된클래스 : 클래스 계층정의시 계층 확장 제한</h3><ul>
<li>코틀린에서는 봉인된클래스(sealed class)를 제공하는데, 이전장에서 Expr interface로 Num / Sum class를 구현하도록 하였었다. 하지만 Num/Sum 클래스만 들어온다는 보장이 안되기때문에, else문으로 포함된 클래스가 아니면 예외처리를하였는데, 이부분을 해소하려면 sealed class로 노출하는 클래스를 지정하면 된다. </li>
</ul>
<figure class="highlight java"><figcaption><span>sealed class</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">sealed <span class="class"><span class="keyword">class</span> <span class="title">Expr</span> </span>&#123;</span><br><span class="line">	class Num(val value:Int): Expr()</span><br><span class="line">	class Sum(val left:Expr, val right:Expr):Expr()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">fun <span class="title">eval</span><span class="params">(e: Expr)</span> : Int </span>= </span><br><span class="line">	when(e) &#123;</span><br><span class="line">		is Expr.Num -&gt; e.value</span><br><span class="line">		is Expr.Sum -&gt; eval(e.right) + eval(e.left)</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<h2 id="코틀린-클래스-초기화-방법"><a href="#코틀린-클래스-초기화-방법" class="headerlink" title="코틀린 클래스 초기화 방법"></a>코틀린 클래스 초기화 방법</h2><h3 id="클래스-초기화"><a href="#클래스-초기화" class="headerlink" title="클래스 초기화"></a>클래스 초기화</h3><figure class="highlight java"><figcaption><span>class초기화방법</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//기본적인 주생성자 생성 및 초기화 </span></span><br><span class="line"><span class="function">open class <span class="title">User</span><span class="params">(val name:String)</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">class TwitterUser(val name:String): User(name) &#123;&#125; //기반클래스의 주생성자를 가져올때</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Secretive</span> <span class="title">private</span> <span class="title">constructor</span>() </span>&#123;&#125; <span class="comment">//유틸클래스에 선언하는 비공개생성자 (이렇게 비공개생성자 대신 최상위함수 혹은 object클래스(싱글톤)활용하자.) </span></span><br><span class="line"></span><br><span class="line"><span class="comment">//부생성자 생성법 및 확장 하였을때 사용방법 </span></span><br><span class="line">open <span class="class"><span class="keyword">class</span> <span class="title">View</span> </span>&#123;</span><br><span class="line">	constructor(ctx: Context) &#123;</span><br><span class="line">	<span class="comment">//code</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	constructor(ctx:Context, attr: AttributeSet) &#123;</span><br><span class="line">	<span class="comment">//code</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class MyButton: View &#123;</span><br><span class="line">	constructor(ctx:Context):<span class="keyword">super</span>(ctx) &#123;</span><br><span class="line">	</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	contructor(ctx:Context, attr:AttributeSet):<span class="keyword">super</span>(ctx,attr) &#123;</span><br><span class="line">	</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	constructor(xtx:Context) : <span class="keyword">this</span>(ctx,MY_STYLE) &#123; <span class="comment">// 2번째 부생성자에게 위임하도록함.</span></span><br><span class="line">	</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	constructor(ctx:Context,attr:AttributeSet):<span class="keyword">super</span>(ctx,attr) &#123; <span class="comment">//상위클래스에 생성하도록 위임</span></span><br><span class="line">	</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>클래스에 주생성자가 없다면 모든 부생성자는 반드시 상위클래스를 초기화하거나 다른생성자에게 생성을 위임해야함! </li>
</ul>
<h3 id="인터페이스에-선언된-프로퍼티-구현"><a href="#인터페이스에-선언된-프로퍼티-구현" class="headerlink" title="인터페이스에 선언된 프로퍼티 구현"></a>인터페이스에 선언된 프로퍼티 구현</h3><figure class="highlight java"><figcaption><span>interface프로퍼티구현</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">	val name:String </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class PrivateUser(ovveride val name:String):User </span><br><span class="line"></span><br><span class="line">class SubscribingUser(val email:String): User &#123;</span><br><span class="line">	override val name:String </span><br><span class="line">		get() = email.substringBefore(<span class="string">&quot;@&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class FacebookUser(val accoutId:Int):User &#123;</span><br><span class="line">	override val name = getFacebookName(accoutId) </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; println(PrivateUser(<span class="string">&quot;test@js.com&quot;</span>).name) </span><br><span class="line">-&gt; test<span class="meta">@js</span>.com</span><br><span class="line">&gt;&gt;&gt; println(SubscribingUser(<span class="string">&quot;test@js.com&quot;</span>).name)</span><br><span class="line">-&gt; test </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="컴파일러가-생성한-메소드-데이터-클래스와-클래스-위임"><a href="#컴파일러가-생성한-메소드-데이터-클래스와-클래스-위임" class="headerlink" title="컴파일러가 생성한 메소드 : 데이터 클래스와 클래스 위임"></a>컴파일러가 생성한 메소드 : 데이터 클래스와 클래스 위임</h2><h3 id="data-class"><a href="#data-class" class="headerlink" title="data class"></a>data class</h3><ul>
<li>data class는 toString, equals, hashCode 를 자동생성해줌 (롬복 @Data 와 유사함)</li>
<li>equals에서는 동등비교할때 ==을 사용하고 , 실제값을 비교할때는 ===(주소값까지 비교) </li>
<li>hashCode는 HashSet과 같은 Hash류들을 사용할때 객체의 해시코드로 먼저 비교해서 해시코드가 같은경우만 실제값을비교하도록 하는 부분 (Hash류 쓸때는 반드시 재정의하자)</li>
</ul>
<h3 id="클래스-위임-by-키워드-사용"><a href="#클래스-위임-by-키워드-사용" class="headerlink" title="클래스 위임 : by 키워드 사용"></a>클래스 위임 : by 키워드 사용</h3><ul>
<li>위임을 사용하는 목적은 코틀린은 기본적으로 final클래스로 확장이 불가능하게 되어있는데(open해야만 가능) 종종 이런 상속이 허용되지 않는 클래스에 새로운 동작을 추가해야할때가 있다. 이때 클래스 위임기능을 활용하면 됨. </li>
</ul>
<figure class="highlight java"><figcaption><span>위임방법</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">class CountingSet&lt;T&gt;(val innerSet:MutableCollection&lt;T&gt; = HashSet&lt;T&gt;()) : MutableCollection&lt;T&gt; by innerSet &#123;</span><br><span class="line">	<span class="keyword">var</span> objectsAdded = <span class="number">0</span></span><br><span class="line">	</span><br><span class="line">	<span class="function">override fun <span class="title">add</span><span class="params">(e : T)</span>: Boolean </span>&#123;</span><br><span class="line">		objectsAdded++</span><br><span class="line">		<span class="keyword">return</span> innerSet.add(e)</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function">ovveride fun <span class="title">addAll</span><span class="params">(c: Collection&lt;T&gt;)</span>:Boolean </span>&#123;</span><br><span class="line">		objectsAdded += c.size</span><br><span class="line">		<span class="keyword">return</span> innerSet.addAll(c)</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">val cset = CountingSet&lt;Int&gt;()</span><br><span class="line">cset.addAll(listOf(<span class="number">1</span>,<span class="number">1</span>,<span class="number">3</span>))</span><br><span class="line"><span class="comment">//HashSet이기본구현체라 중복제거되서 리스트저장됨 </span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="object키워드-클래스-선언과-인스턴스-생성"><a href="#object키워드-클래스-선언과-인스턴스-생성" class="headerlink" title="object키워드: 클래스 선언과 인스턴스 생성"></a>object키워드: 클래스 선언과 인스턴스 생성</h2><ul>
<li>object키워드를 사용하면 싱글턴을 정의할수있음</li>
<li>companion object는 동반객체라 불리는데, 팩토리 메소드를 담을때 쓰임 동반 객체 메소드에 접근할때는 동반 객체가 포함된 클래스의 이름을 사용할수있다. </li>
<li>객체 식은 자바의 무명내부클래스 대신 쓰임 <h3 id="object-사용방법"><a href="#object-사용방법" class="headerlink" title="object 사용방법"></a>object 사용방법</h3></li>
</ul>
<figure class="highlight java"><figcaption><span>object키워드</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">object Payroll &#123;</span><br><span class="line">	val allEmployees = arrayListOf&lt;Person&gt;()</span><br><span class="line">	</span><br><span class="line">	<span class="function">fun <span class="title">calculateSalary</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">for</span>(persiojn in allEmployees) &#123;</span><br><span class="line">			<span class="comment">//...</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//object 활용방법 </span></span><br><span class="line">&gt;&gt;&gt; Payroll.allEmployees.add(Persion(..))</span><br><span class="line">&gt;&gt;&gt; Payroll.calculateSalary()</span><br><span class="line"></span><br><span class="line">object CaseInsentiveFileComparator: Comparator&lt;File&gt; &#123;</span><br><span class="line">	<span class="function">override fun <span class="title">compare</span><span class="params">(file1:File,fil2:File)</span>:Int </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> fil1.path.compareTo(fil2.path. ignoreCase=<span class="keyword">true</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; CaseInsentiveFileComparator.compare(File(<span class="string">&quot;/User&quot;</span>),File(<span class="string">&quot;/user&quot;</span>))</span><br><span class="line">-&gt; <span class="number">0</span> </span><br><span class="line">&gt;&gt;&gt; val files = listOf(File(<span class="string">&quot;/Z&quot;</span>), File(<span class="string">&quot;/a&quot;</span>))</span><br><span class="line">&gt;&gt;&gt; files.sortedWith(CaseInsentiveFileComparator) -&gt; object클래스를 인자로 넘길수있음.  </span><br></pre></td></tr></table></figure>

<ul>
<li>object는 클래스안에서 객체를 선언할수있다. 그런 객체도 인스턴스는 단한개뿐(바깥클래스의 인스턴스마다 중첩 객체 선언에 해당하는 인스턴스가 하나씩 따로 생기는것은 아니다.) 예를들어 Comparator클래스는 클래스 내부에 정의하는게 더 바람직함 </li>
</ul>
<h4 id="싱글턴과-의존관계-주입"><a href="#싱글턴과-의존관계-주입" class="headerlink" title="싱글턴과 의존관계 주입"></a>싱글턴과 의존관계 주입</h4><ul>
<li>싱글턴패턴은 대규모 소프트웨어 시스템에서는 객체 선언이 항상 적합하지않음. 이유는 객체 생성을 제어할 방법이 없고 생성자 파라미터를 지정할수 없기때문에 </li>
<li>생성을 제어할수없고 생성자 파라미터를 지정할수 없으므로 단위테스트를 하거나 시스템설정이 달라질때 객체를 대체하거나 의존관계를 바꿀수없음 따라서 자바와 마찬가지로 의존관계 주입 프레임워크(스프링,구글주스) 와 코틀린 클래스를 함께 사용해야함 </li>
</ul>
<h3 id="companion-object"><a href="#companion-object" class="headerlink" title="companion object"></a>companion object</h3><ul>
<li>코틀린은 static 키워드를 지원안함 </li>
<li>static이 없지만 패키지 수준의 최상위 함수 와 객체 선언을 활용함 (대부분 최상위함수 사용을 권장함)</li>
<li>최상위함수는 비공개 멤버에 접근할수없음 하지만 companion object를 사용하면 private접근자를 호출할수있음 </li>
<li>companion object는 생성자 팩토리 메서드를 만들어준다고 생각하면 됨. (of,tranfer같은작업들 메서드 선언 가능함)</li>
<li>companion object는 객체처럼 활용가능함 (ex&gt; companion object Loader {//…} =&gt; Person.Loader.fromJSON)</li>
<li>companion object는 확장함수로 확장가능하다. (ex&gt; fun Person.Companion.fromJSON(json:String):Person) </li>
</ul>
<h3 id="객체식-무명-내부-클래스를-다른-방식으로-작성"><a href="#객체식-무명-내부-클래스를-다른-방식으로-작성" class="headerlink" title="객체식 : 무명 내부 클래스를 다른 방식으로 작성"></a>객체식 : 무명 내부 클래스를 다른 방식으로 작성</h3><ul>
<li>object키워드는 싱글턴과 같은 객체를 정의하고 그 객체에 이름붙일때만 사용하지않는다. 무명객체를 정의할때도 object키워드를 사용함 </li>
<li>object클래스와 달리 무명객체는 싱글턴이 아님 객체식이 쓰일때마다 새로운 인스턴스가 생성됨!!! </li>
<li>자바의 무명클래스와 같이 객체식 안의 코드는 그 식이 포함된 함수의 변수에 접근할수있다. 자바는 final만 접근가능했지만, 객체식은 var/val 둘다 접근가능하다. </li>
</ul>
<figure class="highlight java"><figcaption><span>객체식</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">fun <span class="title">countClicks</span><span class="params">(window:Window)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> clickCount = <span class="number">0</span></span><br><span class="line">	</span><br><span class="line">	window.addMouseListener(object: MouseAdapter() &#123;</span><br><span class="line">		<span class="function">override fun <span class="title">mouseClicked</span><span class="params">(e:MouseEvent)</span> </span>&#123;</span><br><span class="line">			clickCount++</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;)</span><br><span class="line">	<span class="comment">//.... </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


                    
                        


                    
                    
                        <p>
                            <a
                                href="/2021/07/14/kotlin-basic-2/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2021/07/13/kotlin-basic-1/"
                            aria-label=": kotlin-basic-1"
                        >
                            kotlin-basic-1
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2021-07-13T07:56:35+00:00">
	
		    Jul 13, 2021
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/KotlinInAction/">KotlinInAction</a>, <a class="category-link" href="/categories/Study/">Study</a>, <a class="category-link" href="/categories/%EC%BD%94%ED%8B%80%EB%A6%B0%EB%AC%B8%EB%B2%95-%EA%B8%B0%EC%B4%88/">코틀린문법&기초</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="1-코틀린"><a href="#1-코틀린" class="headerlink" title="1. 코틀린?"></a>1. 코틀린?</h1><h2 id="코틀린-특징"><a href="#코틀린-특징" class="headerlink" title="코틀린 특징"></a>코틀린 특징</h2><ol>
<li>정적 타입 지정 언어 <ul>
<li>타입을 컴파일 시점에 컴파일러가 타입 검증을 해준다는 의미.</li>
<li>동적 타입 지정 언어는? 런타임 시점에서 타입 검증을 함. (runtime시점에 오류가 발견됨)</li>
</ul>
</li>
<li>함수형/객체지향 프로그래밍 지원 <ul>
<li>일급시민함수 <ul>
<li>함수를 변수에 저장하고, 인자로 다른 함수에 전달하고 함수에서 새로운 함수를 만들어 반환 할수있는 함수를 어디서든 적용가능한 개념 </li>
</ul>
</li>
<li>불변성 <ul>
<li>일단 만들어지면 내부 상태가 절대로 바뀌지않음. (기본 final처럼 불변으로 되어있음.)</li>
</ul>
</li>
<li>사이드이펙트 없음 <ul>
<li>불변성과 이어지는 맥락인데, input 과 output이 같다. 외부함수 혹은 다른 바깥환경에 영향받지 않고 입력한 함수 그대로 리턴해주는 개념 </li>
</ul>
</li>
</ul>
</li>
<li>안드로이드 및 서버 개발 지원 </li>
</ol>
<h2 id="코틀린-기초-문법"><a href="#코틀린-기초-문법" class="headerlink" title="코틀린 기초 문법"></a>코틀린 기초 문법</h2><h3 id="함수"><a href="#함수" class="headerlink" title="함수"></a>함수</h3><figure class="highlight java"><figcaption><span>함수</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//함수 기초 </span></span><br><span class="line"><span class="function">fun <span class="title">max</span><span class="params">(a: Int, b: Int)</span>: Int </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">if</span> (a &gt; b) a <span class="keyword">else</span> b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//한줄로 변경 가능 중괄호 제거 </span></span><br><span class="line"><span class="comment">//타입추론으로 리턴되는 타입을 생략해도 되지만 가급적 넣어주자. </span></span><br><span class="line"><span class="function">fun <span class="title">max</span><span class="params">(a:Int, b:Int)</span>:Int </span>= <span class="keyword">if</span>(a &gt; b) a <span class="keyword">else</span> b </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="변수"><a href="#변수" class="headerlink" title="변수"></a>변수</h3><ol>
<li>val <ul>
<li>자바에서 final임. 기본이 불변</li>
<li>val변수는 블록실행할때 정확하게 한번만 수행해야함. </li>
<li>val참조 자체는 불변이지만, 그 참조가 가리키는 객체의 내부값은 변경될수있음. </li>
</ul>
</li>
<li>var <ul>
<li>일반 자바변수와 동일 </li>
</ul>
</li>
</ol>
<figure class="highlight java"><figcaption><span>변수</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 블록당 한번 초기화  </span></span><br><span class="line">val msg:String </span><br><span class="line"><span class="keyword">if</span>(valid()) &#123;</span><br><span class="line">	msg = <span class="string">&quot;Success&quot;</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">	msg = <span class="string">&quot;Fail&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 불변참조</span></span><br><span class="line">val list = arrayListOf(<span class="string">&quot;Java&quot;</span>)</span><br><span class="line">list.add(<span class="string">&quot;Kotlin&quot;</span>) <span class="comment">// 불변이지만 이렇게 값이 추가되거나 변경되는건 가능</span></span><br></pre></td></tr></table></figure>

<h3 id="클래스-amp-프로퍼티"><a href="#클래스-amp-프로퍼티" class="headerlink" title="클래스 &amp; 프로퍼티"></a>클래스 &amp; 프로퍼티</h3><figure class="highlight java"><figcaption><span>클래스&프로퍼티</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">class Person(val name:String,  //val로 하면 읽기전용(getter만 허용)</span><br><span class="line">			<span class="keyword">var</span> isMarried:Boolean) <span class="comment">//var로하면 읽기/쓰기 모두 가능 (getter/setter 둘다가능)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//클래스 인스턴스 생성 </span></span><br><span class="line"><span class="keyword">var</span> person = Person(<span class="string">&quot;JS&quot;</span>, <span class="keyword">false</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//커스텀 접근 </span></span><br><span class="line">class Rectangle(val height:Int, val width:Int) &#123;</span><br><span class="line">	val isSquare:Boolean </span><br><span class="line">		get() &#123;</span><br><span class="line">			<span class="keyword">return</span> height == width </span><br><span class="line">		&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="코틀린-소스코드-구조-디렉터리와-패키지"><a href="#코틀린-소스코드-구조-디렉터리와-패키지" class="headerlink" title="코틀린 소스코드 구조: 디렉터리와 패키지"></a>코틀린 소스코드 구조: 디렉터리와 패키지</h3><ul>
<li>코틀린도 자바와 동일하게 import한후 클래스 및 기타 정의 가능 </li>
<li>자바에서는 패키지 구조내에 클래스명과 동일한 클래스파일을 생성하는 소스구조지만, 코트린은 kt파일자체가 패키지라고 생각하면됨. (파일 내부에 여러 클래스 인터페이스 정의 가능)</li>
</ul>
<h3 id="enum-when"><a href="#enum-when" class="headerlink" title="enum / when"></a>enum / when</h3><figure class="highlight java"><figcaption><span>enum&when</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">class</span> <span class="title">Color</span> (</span></span><br><span class="line">    val r: Int, val g: Int, val b: Int    </span><br><span class="line">) &#123;</span><br><span class="line">    RED(<span class="number">255</span>,<span class="number">0</span>,<span class="number">0</span>), ORANGE(<span class="number">255</span>,<span class="number">165</span>,<span class="number">0</span>),</span><br><span class="line">    YELLOW(<span class="number">255</span>,<span class="number">255</span>,<span class="number">0</span>),GREEN(<span class="number">0</span>,<span class="number">255</span>,<span class="number">0</span>),</span><br><span class="line">    BLUE(<span class="number">0</span>,<span class="number">0</span>,<span class="number">255</span>),INDIGO(<span class="number">75</span>,<span class="number">0</span>,<span class="number">130</span>),</span><br><span class="line">    VIORET(<span class="number">238</span>,<span class="number">130</span>,<span class="number">238</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="function">fun <span class="title">rgb</span><span class="params">()</span> </span>= (r * <span class="number">256</span> + g) * <span class="number">256</span> + b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">println(Color.BLUE.rgb()) <span class="comment">// &gt;&gt;&gt; 255 </span></span><br><span class="line"></span><br><span class="line"><span class="comment">//when1 </span></span><br><span class="line"><span class="function">fun <span class="title">getWarmth</span><span class="params">(color: Color)</span> </span>= when (color) &#123;</span><br><span class="line">    Color.RED, Color.YELLOW, Color.ORANGE -&gt; <span class="string">&quot;warm&quot;</span> </span><br><span class="line">    Color.GREEN -&gt; <span class="string">&quot;natural&quot;</span></span><br><span class="line">    Color.BLUE, Color.INDIGO, Color.VIORET -&gt; <span class="string">&quot;cold&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//when2 -&gt; setOf컬렉션 사용으로 구분 </span></span><br><span class="line"><span class="function">fun <span class="title">mix</span><span class="params">(c1: Color, c2: Color)</span> </span>= when (setOf(c1,c2)) &#123;</span><br><span class="line">    setOf(RED,YELLOW) -&gt; ORANGE</span><br><span class="line">    setOf(YELLOW,BLUE) -&gt; GREEN</span><br><span class="line">    setOf(BLUE,VIORET) -&gt; INDIGO</span><br><span class="line">    <span class="keyword">else</span> -&gt; <span class="keyword">throw</span> Exception(<span class="string">&quot;Dirty Color&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//when3 -&gt; 인자없이 구분 </span></span><br><span class="line"><span class="function">fun <span class="title">mixOptimized</span><span class="params">(c1: Color, c2: Color)</span> </span>= when &#123;</span><br><span class="line">    (c1 == RED &amp;&amp; c2 == YELLOW) || (c1 == YELLOW &amp;&amp; c2 == RED) -&gt; ORANGE</span><br><span class="line">    (c1 == YELLOW &amp;&amp; c2 == BLUE) || (c1 == BLUE &amp;&amp; c2 == YELLOW) -&gt; GREEN</span><br><span class="line">    (c1 == BLUE &amp;&amp; c2 == VIORET) || (c1 == VIORET &amp;&amp; c2 == BLUE) -&gt; INDIGO</span><br><span class="line">    <span class="keyword">else</span> -&gt; <span class="keyword">throw</span> Exception(<span class="string">&quot;Dirty Color&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="스마트캐스팅-타입검사-및-타입-캐스트"><a href="#스마트캐스팅-타입검사-및-타입-캐스트" class="headerlink" title="스마트캐스팅 : 타입검사 및 타입 캐스트"></a>스마트캐스팅 : 타입검사 및 타입 캐스트</h3><figure class="highlight java"><figcaption><span>스마트캐스팅</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Expr</span></span></span><br><span class="line">class Num(val value:Int): Expr //Expr인터페이스구현 </span><br><span class="line">class Sum(val left:Expr, val right:Expr): Expr // Expr인터페이스로 Num/Sum 인자로 받을수있음 </span><br><span class="line"></span><br><span class="line"><span class="function">fun <span class="title">eval</span><span class="params">(e:Expr)</span>: Int </span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(e is Num ) &#123;<span class="comment">//Num클래스인지 확인 </span></span><br><span class="line">		<span class="comment">//val n = e as Num //명시적인 타입 캐스팅 </span></span><br><span class="line">		<span class="comment">//return n.value</span></span><br><span class="line">		</span><br><span class="line">		<span class="keyword">return</span> e.value <span class="comment">//is로 검사한부분은 코틀린이 알아서 자동 캐스팅을 해줌. 그래서 명시적인 캐스팅을 할 필요가 없음</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">if</span>(e is Sum) &#123;</span><br><span class="line">		eval(e.right) + eval(e.left) <span class="comment">//return 생략가능 </span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">throw</span> IllegalArgumentException(<span class="string">&quot;Unknown Expression&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="for-while-loop"><a href="#for-while-loop" class="headerlink" title="for/while loop"></a>for/while loop</h3><ol>
<li>while루프는 자바와 동일 </li>
<li>for <ul>
<li>자바처럼 기본형태의 for문은 없음 </li>
</ul>
</li>
</ol>
<figure class="highlight java"><figcaption><span>for문</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(num in <span class="number">1.</span><span class="number">.100</span>) &#123;</span><br><span class="line">    print(<span class="string">&quot;$&#123;fizzBuzz(num)&#125; &quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="keyword">for</span>(num in <span class="number">100</span> downTo <span class="number">1</span> step <span class="number">2</span>) &#123;</span><br><span class="line">    print(<span class="string">&quot;$&#123;fizzBuzz(num)&#125; \n&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">val binaryReps = TreeMap&lt;Char,String&gt;()</span><br><span class="line"><span class="keyword">for</span>(c in <span class="string">&#x27;A&#x27;</span>..<span class="string">&#x27;F&#x27;</span>) &#123;</span><br><span class="line">	val binary = Integer.toBinaryString(c.toInt())</span><br><span class="line">	binaryReps[c] = binary </span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line"><span class="keyword">for</span>((letter,binary) in binaryReps) &#123;</span><br><span class="line">	println(<span class="string">&quot;$letter = $binary&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">val list = arrayListOf(<span class="string">&quot;10&quot;</span>,<span class="string">&quot;11&quot;</span>,<span class="string">&quot;1100&quot;</span>)</span><br><span class="line"><span class="keyword">for</span>((index,element) in list.withIndex()) &#123;</span><br><span class="line">	println(<span class="string">&quot;$index: $element&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="in-으로-컬렉션-혹은-범위의-원소-검사"><a href="#in-으로-컬렉션-혹은-범위의-원소-검사" class="headerlink" title="in 으로 컬렉션 혹은 범위의 원소 검사"></a>in 으로 컬렉션 혹은 범위의 원소 검사</h3><figure class="highlight java"><figcaption><span>in으로 range검사</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">fun <span class="title">isLetter</span><span class="params">(c:Char)</span> </span>= c in <span class="string">&#x27;a&#x27;</span>..<span class="string">&#x27;z&#x27;</span> || c in <span class="string">&#x27;A&#x27;</span>..<span class="string">&#x27;Z&#x27;</span></span><br><span class="line"><span class="function">fun <span class="title">isNotDigit</span><span class="params">(c:Char)</span> </span>= c !in <span class="string">&#x27;0&#x27;</span>..<span class="string">&#x27;9&#x27;</span></span><br><span class="line"><span class="function">fun <span class="title">recognize</span><span class="params">(c: Char)</span> </span>= when(c) &#123;</span><br><span class="line">    in <span class="string">&#x27;0&#x27;</span>..<span class="string">&#x27;9&#x27;</span> -&gt; <span class="string">&quot;It&#x27;s digit!&quot;</span></span><br><span class="line">    in <span class="string">&#x27;a&#x27;</span>..<span class="string">&#x27;z&#x27;</span>, in <span class="string">&#x27;A&#x27;</span>..<span class="string">&#x27;Z&#x27;</span> -&gt; <span class="string">&quot;It&#x27;s letter!&quot;</span></span><br><span class="line">    <span class="keyword">else</span> -&gt; <span class="string">&quot;I don&#x27;t know...&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="try-catch-finally"><a href="#try-catch-finally" class="headerlink" title="try, catch, finally"></a>try, catch, finally</h3><figure class="highlight java"><figcaption><span>try-catch-finally</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//java와 달리 코틀린은 함수에 throws 정의하는 명령어가 없음. </span></span><br><span class="line"><span class="function">fun <span class="title">readNumber</span><span class="params">(reader: BufferedReader)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// java와 문법은 거의 흡사함 </span></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        val line = reader.readLine()</span><br><span class="line">        <span class="keyword">return</span> Integer.parseInt(line)</span><br><span class="line">    &#125; <span class="keyword">catch</span>(e: NumberFormatException) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span></span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        reader.close()</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">	<span class="comment">//try-catch return </span></span><br><span class="line">    val number = <span class="keyword">try</span> &#123;</span><br><span class="line">        Integer.parseInt(reader.readLine())</span><br><span class="line">    &#125; <span class="keyword">catch</span>(e: NumberFormatException) &#123;</span><br><span class="line">        <span class="keyword">null</span> </span><br><span class="line">    &#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//try-with-resoruce </span></span><br><span class="line">	File(<span class="string">&quot;/home/aasmund/test.txt&quot;</span>).inputStream().use &#123;</span><br><span class="line">		 val bytes = it.readBytes()</span><br><span class="line">		 println(bytes.size)</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">    println(number)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="함수-정의-및-호출"><a href="#함수-정의-및-호출" class="headerlink" title="함수 정의 및 호출"></a>함수 정의 및 호출</h3><figure class="highlight java"><figcaption><span>joinTotring</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">fun&lt;T&gt; <span class="title">joinToString</span><span class="params">(collection:Cellection&lt;T&gt;, </span></span></span><br><span class="line"><span class="function"><span class="params">					seperate:String = <span class="string">&quot;, &quot;</span>, // defalt값을 넣을수있음.  </span></span></span><br><span class="line"><span class="function"><span class="params">					prefix:String = <span class="string">&quot;&quot;</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">					postfix:String = <span class="string">&quot;&quot;</span>)</span>:String </span>&#123;</span><br><span class="line">					</span><br><span class="line">	val result = StringBuilder(prefix)</span><br><span class="line">	<span class="keyword">for</span>((index,element) in collection.withIndex()) &#123;</span><br><span class="line">		<span class="keyword">if</span>(index &gt; <span class="number">0</span>) result.append(separate) <span class="comment">//두번째 원소부터 separate 붙임</span></span><br><span class="line">		result.append(element)</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	result.append(postfix)</span><br><span class="line">	<span class="keyword">return</span> result.toString() </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; joinToString(collection, separate=<span class="string">&quot; &quot;</span>, prefix=<span class="string">&quot; &quot;</span>,postfix=<span class="string">&quot;.&quot;</span>)</span><br><span class="line">&gt;&gt;&gt; joinToString(collection) <span class="comment">//기본설정된 파라미터로 출력됨 </span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="최상위-함수와-프로퍼티"><a href="#최상위-함수와-프로퍼티" class="headerlink" title="최상위 함수와 프로퍼티"></a>최상위 함수와 프로퍼티</h3><ul>
<li>kt파일 생성하고 클래스 생성없이 fun함수 하나만 걸어두면 정적메서드화됨 (유틸클래스처럼)</li>
<li>kt파일 생성하고 변수를 설정하면 정적 변수가 설정됨 (글로벌 변수가 됨)</li>
</ul>
<h3 id="확장함수-와-확장-프로퍼티"><a href="#확장함수-와-확장-프로퍼티" class="headerlink" title="확장함수 와 확장 프로퍼티"></a>확장함수 와 확장 프로퍼티</h3><ul>
<li>확장함수는 마치 어떤 클래스의 멤버 메서드 처럼 호출 가능하지만, 그 클래스 밖에서 선언된 함수다. </li>
<li>확장프로퍼티는 확장함수내에 getter/setter를 세팅하는 작업이다. </li>
</ul>
<figure class="highlight java"><figcaption><span>확장함수</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> strings</span><br><span class="line"></span><br><span class="line">fun String.lastChar(): Char = <span class="keyword">this</span>.get(<span class="keyword">this</span>.length-<span class="number">1</span>) <span class="comment">//this는 수신객체 (String 이다.)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//확장프로퍼티</span></span><br><span class="line">val String.lastChar: Char </span><br><span class="line">	get() = get(length-<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> String.lastChar: Char</span><br><span class="line">	get() = get(length-<span class="number">1</span>)</span><br><span class="line">	set(value:Char) &#123;</span><br><span class="line">		<span class="keyword">this</span>.setCharAt(length-<span class="number">1</span>,value) <span class="comment">//String의 setCharAt호출 </span></span><br><span class="line">	&#125;</span><br><span class="line">		</span><br><span class="line"><span class="comment">//////////////////import시켜서 사용하기</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> strings.lastChar <span class="comment">//확장함수를 마치 기존 멤버메서드처럼 import도 가능함. </span></span><br><span class="line"></span><br><span class="line">val c  <span class="string">&quot;Kotlin&quot;</span>.lastChar()</span><br><span class="line"></span><br><span class="line"><span class="comment">//joinToString 확장함수판! </span></span><br><span class="line">fun&lt;T&gt; Collection&lt;T&gt;.joinToString(seperate:String = <span class="string">&quot;, &quot;</span>, <span class="comment">// defalt값을 넣을수있음.  </span></span><br><span class="line">					prefix:String = <span class="string">&quot;&quot;</span>,</span><br><span class="line">					postfix:String = <span class="string">&quot;&quot;</span>):String &#123;</span><br><span class="line">					</span><br><span class="line">	val result = StringBuilder(prefix)</span><br><span class="line">	<span class="keyword">for</span>((index,element) in collection.withIndex()) &#123;</span><br><span class="line">		<span class="keyword">if</span>(index &gt; <span class="number">0</span>) result.append(separate) <span class="comment">//두번째 원소부터 separate 붙임</span></span><br><span class="line">		result.append(element)</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	result.append(postfix)</span><br><span class="line">	<span class="keyword">return</span> result.toString() </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="확장함수-참고"><a href="#확장함수-참고" class="headerlink" title="확장함수 참고"></a>확장함수 참고</h4><ul>
<li>자바에서 확장함수사용하려면  그냥 자바에서는 StringUtilKt.lastChar(“Kotlin”) 이런식으로 호출하면됨 (StringUtil.kt파일이 있을때)</li>
<li>이쯤되면 확장함수의 원리가 궁금한데, 확장함수는 그냥 유틸클래스 처럼 정적 함수로 구현되어있음 </li>
<li>정적함수 특성상 오버라이드가 안됨. (프로퍼티도 마찬가지!)</li>
<li>확장함수는 해당 클래스의 멤버변수를 접근할수있음!!</li>
</ul>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/2021/07/13/kotlin-basic-1/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    <div class="pagination-bar">
    <ul class="pagination">
        
        
        <li class="pagination-number">page 1 of 1</li>
    </ul>
</div>

</section>


                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2021 codexdawn. All Rights Reserved.
    </span>
</footer>

            </div>
            
        </div>
        


<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <h4 id="about-card-name">codexdawn</h4>
        
            <div id="about-card-bio"><p>author.bio</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>author.job</p>

            </div>
        
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover-v1.2.0.jpg');"></div>
        <!--SCRIPTS-->

<script src="/assets/js/script-ikbi0v8fyzuu91xv5rmpcrnwb4qinfgborzd5kejmj8wr6ibfra8oaxqshyg.min.js"></script>

<!--SCRIPTS END-->





    </body>
</html>
