
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="codexdawn">
    <title>clean-code-5 - codexdawn</title>
    <meta name="author" content="codexdawn">
    
    
    
        
            <link rel="alternate" type="application/atom+xml" title="RSS" href="/atom.xml">
        
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"codexdawn","sameAs":["https://github.com/codexdawn","https://www.facebook.com/beherzt.dev","https://www.linkedin.com/in/sim-jisung-3048872a/","mailto:cloudkaiser@gmail.com"],"image":"https://www.gravatar.com/avatar/d97fd4b94c429915f1cb55eb27e7d4d9"},"articleBody":"객체와 자료구조변수를 비공개로 정의하는 이유가 있다. 남들이 변수에 의존하지 않게 만들고 싶어서다. \n\n\n자료 추상화6-1. 구체적인 Point클래스1234public class Point &#123;\tpublic double x; \tpublic double y; &#125;\n\n6-2. 추상적인 Point클래스12345678public interface Point &#123;\tdouble getX();\tdouble getY();\tdouble setCartesian(double x, double y);\tdouble getR(); \tdouble getTheta();\tvoid setPolar(double r, double theta);&#125;\n\n1. 6-1 VS 6-2 코드의 승자는?\n6-1은 개별적으로 좌표값을 읽고 설정하게 강제함. \n6-1은 구현ㅇ르 노출한다. 설사, private으로 변수를 선언해도, 각 값마다 getter/setter 함수를 제공한다면 구현을 외부로 노출하는 셈이다. \n6-2는 자료 구조 이상을 표현한다. 클레스 메서드 마다 접근 정책을 강제한다. (무조건 구현하도록)\n6-2는 좌표를 읽을 때는 각 값을 개별적으로 읽어야 한다. 하지만 좌표를 설정할 때는 두 값을 한번에 설정해야 한다. \n\n위 두코드의 승자는 6-2! 이유는 변수 사이에 함수라는 계층을 넣는다고, 구현이 저절로 감춰지지는 않는다. 구현을 감추려면 추상화가 필수다! 그저 형식에 치우쳐 getter/setter함수로 변수를 다룬다고 클래스가 되는게 아니다. 그보다는 추상 인터페이스를 제공해 사용자가 구현을 모른 채 자료의 핵심을 조작할 수 있어야 진정한 의미의 클래스다! \n6-3. 구체적인 Vehicle 클래스1234public interface Vehicle &#123;\tdouble getFuelTankCapacityInGallons();\tdouble getGallonsOfGasoline(); &#125;\n\n6-4. 추상적인 Vihicle클래스123public interface Vihicle &#123;\tdouble getPercentFuelRemaining(); &#125;\n\n2. 6-3 VS 6-4 코드의 승자는?\n6-3은 자동차 연료 상태를 구체적인 숫자 값으로 알려준다. \n6-4는 자동차 연료 상태를 백분율이라는 추상적인 개념으로 알려준다. \n6-3은 두 함수가 변수값을 읽어 반환할 뿐이라는 사실이 거의 확실함. \n6-4는 정보가 어디서 오는지 전혀 드러나지 않는다. \n\n위 두 코드의 승자는? 6-4! 그 이유는 자룔르 세세하게 공개하기 보다 추상적인 개념으로 표현하는 편이 더 좋다. 인터페이스나 getter/setter 함수 만으로 추상화가 이뤄지지 않는다. 개발자는 객체가 포함하는 자료를 표현할 가장 좋은ㅇ 방법을 심각하게 고민해야한다! \n자료/객체 비대칭6-5. 절차적인 도형 (절차지향)123456789101112131415161718192021222324252627282930313233public class Square &#123;\tpublic Point topLeft; \tpublic double side; &#125;public class Rectangle &#123;\tpublic Point topLeft; \tpublic double height; \tpublic double width; &#125;public class Circle &#123;\tpublic Point center; \tpublic double radius; &#125;public class Geomatry &#123;\tpublic final double PI = 3.14;\t\tpublic double area(Object shape) throws NoSuchShapeException &#123;\t\tif(shape instanceof Square) &#123;\t\t\tSquare s = (Square) shape; \t\t\treturn s.side * s.side; \t\t&#125; else if (shape instanceof Rectangle) &#123;\t\t\tRectangle r = (Rectangle) shape; \t\t\treturn r.height * r.width; \t\t&#125; else if (shape instanceof Circle) &#123;\t\t\tCircle c = (Circle) shape; \t\t\treturn PI * c.radius * c.radius; \t\t&#125; \t\tthrow new NoSuchShapeException();\t&#125;&#125;\n\n6-6. 다형적인 도형 (객체지향)1234567891011121314151617181920212223242526272829303132public class Square implements Shape &#123;\tprivate Point topLeft; \tprivate double side; \t\tpublic double area() &#123;\t\treturn side * side; \t&#125;&#125;public class Rectangle implements Shape &#123;\tprivate Point topLeft;\tprivate double height; \tprivate double width; \t\tpublic double area() &#123;\t\treturn height * width; \t&#125;&#125;public class Circle implements Shape &#123;\tprivate Point center; \tprivate double radius; \tpublic final double PI = 3.14; \t\tpublic double area() &#123;\t\treturn PI * radius * radius; \t&#125;&#125;public interface Shape &#123;\tpublic double area(); &#125;\n\n6-5 VS 6-6 코드의 승자는?\n6-5는 Geomatry 클래스 내부에 함수를 자유롭게 추가 할수 있다. \n6-5는 새 도형이 추가된다면 Geomatry클래스 내부에 있는 함수들을 모두 수정해줘야 할수도 있다. \n6-6은 6-5처럼 굳이 Geomatry클래스가 필요없고, 새 도형을 추가해도 기존 함수에 아무런 영향을 주지 않는다. \n6-6은 새 함수를 추가하면 모든 도형 클래스에 (Shape 인터페이스에 속한) 새 함수를 강제적으로 넣어줘야함.\n\n위 두 코드의 승자는? 결론은 무승부! \n\n절차적인 코드는 기존 자료구조를 변경하지 않으면서 새 함수를 추가하기 쉽다. 반면, 객체 지향 코드는 기존 함수를 변경하지 않으면서 새 클래스를 추가하기 쉽다. \n절차적인 코드는 새로운 자료 구조를 추가하기 어렵다. 그러려면 모든 함수를 고쳐야한다. 객체 지향 코드는 새로운 함수를 추가하기 어렵다. 그러려면 모든 클래스를 고쳐야한다. \n\n다시말해, 객체 지향 코드에서 어려운 변경은 절차적인 코드에서 쉬우며, 절차적인 코드에서 어려운 변경은 객체 지향 코드에서 쉽다!복잡한 시스템을 짜다보면 새로운 함수가 아니라 새로운 자료 타입이 필요한 경우가 생긴다. 이때는 클래스 와 객체 지향 코드에서 쉽다!반면, 새로운 자료 타입이 아니라 새로운 함수가 필요한 경우도 생긴다. 이때는 절차적인 코드와 자료구조가 좀 더 적합함! \n디미터 법칙디미터 법칙은 자신이 조작하는 객체의 속사정을 몰라야 한다는 법칙이다. 즉, 객체는 자료를 숨기고 함수를 공개한다.디미터 법칙은 “클래스 C의 메서드 f는 다음과 같은 객체의 메서드만 호출해야한다.”\n\n클래스 C\nf가 생성한 객체 \nf 인수로 넘어온 객체 \nC 인스턴스 변수에 저장된 객체 \n\n디미터 법칙을 해하는 가장 대표적인 예는 메서드 체이닝을 활용하는 부분 (모든 메서드 체이닝이 문제가 아니라는 것이 중요!) 이라 할수있다. \n디미터 법칙을 어긴 예1final String outputDir = ctxt.getOptions().getScratchDir().getAbsolutePath(); \n\n기차 충돌위와 같은 코드를 기차 충돌이라고 한다. 위와 같은 코드는 차라리 아래와 같이 나누는편이 좋다. \n디미터 법칙을 어긴 예123Option opts = ctxt.getOptions();File scrachDir = opts.getScratchDir();final String outputDir = scratchDir.getAbsolutePath(); \n\n위 예제 역시 디미터 법칙을 해하는 요소이긴하다. 왜냐하면 ctxt객체가 Options를 포함하고, Options는 ScratchDir을 포함하고, ScartchDir은 AbsolutePath를 포함한다는 사실을 안다. 즉, 함수하나가 아는 지식이 방대하다. 위 코드를 사용하는 함수는 많은 객체를 탐색할 줄 안다는 말이다.위 두 예제코드를 아래 코드처럼 구현했다면 디미터 법칙이 거론되지 않았을것이다. \n디미터 법칙을 어긴 예1final String outputDir = ctxt.options.scartchDir.absouletePath;  \n\n객체라면 내부 구조를 숨겨야 하므로 확실히 디미터 법칙을 위반한다. 반면, 자료구조라면 당연히 내부 구조를 노출하므로 디미터 법칙이 적용되지 않는다.\n잡종구조절반은 객체, 절반은 자료구조인 잡종구조는 되도록 피하는것이 좋다. 프로그래머가 함수나 타입을 보호할지 공개할지 확신하지 못해 어중간하게 내놓은 설계에 불과함. \n구조체 감추기객체라면 ‘뭔가를 하라고’ 말해야지 속을 드러내라고 말하면 안된다. \n\n\n자료 전달 객체 (DTO)\nDTO는 공개변수만 있고 함수가 없는 클래스다. \nBean은 private변수를 getter/setter 함수로 조작한다. 일종의 사이비 캡슐화로, 일부 OO순수주의자나 만족시킬뿐 별다른 이익을 제공하지 않는다. \n\n활성 레코드\n활성 레코드는 DTO의 특수형태다. DTO와 같은 맥락이나, 대개 save나 find와 같은 탐색함수도 제공함. \n활성 레코드는 자료구조로 취급해야함. \n\n","dateCreated":"2021-02-08T11:10:39+00:00","dateModified":"2021-02-08T14:18:51+00:00","datePublished":"2021-02-08T11:10:39+00:00","description":"","headline":"clean-code-5","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"https://codexdawn.github.io/2021/02/08/clean-code-5/"},"publisher":{"@type":"Organization","name":"codexdawn","sameAs":["https://github.com/codexdawn","https://www.facebook.com/beherzt.dev","https://www.linkedin.com/in/sim-jisung-3048872a/","mailto:cloudkaiser@gmail.com"],"image":"https://www.gravatar.com/avatar/d97fd4b94c429915f1cb55eb27e7d4d9","logo":{"@type":"ImageObject","url":"https://www.gravatar.com/avatar/d97fd4b94c429915f1cb55eb27e7d4d9"}},"url":"https://codexdawn.github.io/2021/02/08/clean-code-5/","keywords":"refactoring,code,cleancode"}</script>
    <meta name="description" content="객체와 자료구조변수를 비공개로 정의하는 이유가 있다. 남들이 변수에 의존하지 않게 만들고 싶어서다.    자료 추상화6-1. 구체적인 Point클래스1234public class Point &amp;#123;	public double x; 	public double y; &amp;#125;  6-2. 추상적인 Point클래스12345678public interface P">
<meta property="og:type" content="blog">
<meta property="og:title" content="clean-code-5">
<meta property="og:url" content="https://codexdawn.github.io/2021/02/08/clean-code-5/index.html">
<meta property="og:site_name" content="codexdawn">
<meta property="og:description" content="객체와 자료구조변수를 비공개로 정의하는 이유가 있다. 남들이 변수에 의존하지 않게 만들고 싶어서다.    자료 추상화6-1. 구체적인 Point클래스1234public class Point &amp;#123;	public double x; 	public double y; &amp;#125;  6-2. 추상적인 Point클래스12345678public interface P">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2021-02-08T11:10:39.000Z">
<meta property="article:modified_time" content="2021-02-08T14:18:51.202Z">
<meta property="article:author" content="codexdawn">
<meta property="article:tag" content="refactoring,code,cleancode">
<meta name="twitter:card" content="summary">
    
    
        
    
    
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/assets/css/style-3sspfygaapf5d6tbrnqmyrhdcstv0iwwmi4wor2yeip9c44sowy9gbdzyyjm.min.css">

    <!--STYLES END-->
    

    

    
        
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    

<header id="header" data-behavior="5">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/"
            aria-label=""
        >
            codexdawn
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="Open the link: /#about"
            >
        
        
        </a>
    
</header>

            <!-- Define author's picture -->


<nav id="sidebar" data-behavior="5">
    <div class="sidebar-container">
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/"
                            
                            rel="noopener"
                            title="Home"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-categories"
                            
                            rel="noopener"
                            title="Categories"
                        >
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-tags"
                            
                            rel="noopener"
                            title="Tags"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="#about"
                            
                            rel="noopener"
                            title="About"
                        >
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/codexdawn"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://www.facebook.com/beherzt.dev"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Facebook"
                        >
                        <i class="sidebar-button-icon fab fa-facebook" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Facebook</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://www.linkedin.com/in/sim-jisung-3048872a/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="LinkedIn"
                        >
                        <i class="sidebar-button-icon fab fa-linkedin" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">LinkedIn</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="mailto:cloudkaiser@gmail.com"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Mail"
                        >
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Mail</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/atom.xml"
                            
                            rel="noopener"
                            title="RSS"
                        >
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="5"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            clean-code-5
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2021-02-08T11:10:39+00:00">
	
		    Feb 08, 2021
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/Clean-Code/">Clean Code</a>, <a class="category-link" href="/categories/Study/">Study</a>, <a class="category-link" href="/categories/%EA%B0%9D%EC%B2%B4%EC%99%80-%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0/">객체와 자료구조</a>


    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <h1 id="객체와-자료구조"><a href="#객체와-자료구조" class="headerlink" title="객체와 자료구조"></a>객체와 자료구조</h1><blockquote><p>변수를 비공개로 정의하는 이유가 있다. 남들이 변수에 의존하지 않게 만들고 싶어서다. </p>
</blockquote>

<h2 id="자료-추상화"><a href="#자료-추상화" class="headerlink" title="자료 추상화"></a>자료 추상화</h2><figure class="highlight java"><figcaption><span>6-1. 구체적인 Point클래스</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">double</span> x; </span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">double</span> y; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><figcaption><span>6-2. 추상적인 Point클래스</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">double</span> <span class="title">getX</span><span class="params">()</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">double</span> <span class="title">getY</span><span class="params">()</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">double</span> <span class="title">setCartesian</span><span class="params">(<span class="keyword">double</span> x, <span class="keyword">double</span> y)</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">double</span> <span class="title">getR</span><span class="params">()</span></span>; </span><br><span class="line">	<span class="function"><span class="keyword">double</span> <span class="title">getTheta</span><span class="params">()</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">setPolar</span><span class="params">(<span class="keyword">double</span> r, <span class="keyword">double</span> theta)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-6-1-VS-6-2-코드의-승자는"><a href="#1-6-1-VS-6-2-코드의-승자는" class="headerlink" title="1. 6-1 VS 6-2 코드의 승자는?"></a>1. 6-1 VS 6-2 코드의 승자는?</h3><ul>
<li>6-1은 개별적으로 좌표값을 읽고 설정하게 강제함. </li>
<li>6-1은 구현ㅇ르 노출한다. 설사, private으로 변수를 선언해도, 각 값마다 getter/setter 함수를 제공한다면 구현을 외부로 노출하는 셈이다. </li>
<li>6-2는 자료 구조 이상을 표현한다. 클레스 메서드 마다 접근 정책을 강제한다. (무조건 구현하도록)</li>
<li>6-2는 좌표를 읽을 때는 각 값을 개별적으로 읽어야 한다. 하지만 좌표를 설정할 때는 두 값을 한번에 설정해야 한다. </li>
</ul>
<p>위 두코드의 승자는 6-2! 이유는 변수 사이에 함수라는 계층을 넣는다고, 구현이 저절로 감춰지지는 않는다. 구현을 감추려면 추상화가 필수다! 그저 형식에 치우쳐 getter/setter함수로 변수를 다룬다고 클래스가 되는게 아니다. 그보다는 추상 인터페이스를 제공해 사용자가 구현을 모른 채 자료의 핵심을 조작할 수 있어야 진정한 의미의 클래스다! </p>
<figure class="highlight java"><figcaption><span>6-3. 구체적인 Vehicle 클래스</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Vehicle</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">double</span> <span class="title">getFuelTankCapacityInGallons</span><span class="params">()</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">double</span> <span class="title">getGallonsOfGasoline</span><span class="params">()</span></span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><figcaption><span>6-4. 추상적인 Vihicle클래스</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Vihicle</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">double</span> <span class="title">getPercentFuelRemaining</span><span class="params">()</span></span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-6-3-VS-6-4-코드의-승자는"><a href="#2-6-3-VS-6-4-코드의-승자는" class="headerlink" title="2. 6-3 VS 6-4 코드의 승자는?"></a>2. 6-3 VS 6-4 코드의 승자는?</h3><ul>
<li>6-3은 자동차 연료 상태를 구체적인 숫자 값으로 알려준다. </li>
<li>6-4는 자동차 연료 상태를 백분율이라는 추상적인 개념으로 알려준다. </li>
<li>6-3은 두 함수가 변수값을 읽어 반환할 뿐이라는 사실이 거의 확실함. </li>
<li>6-4는 정보가 어디서 오는지 전혀 드러나지 않는다. </li>
</ul>
<p>위 두 코드의 승자는? 6-4! 그 이유는 자룔르 세세하게 공개하기 보다 추상적인 개념으로 표현하는 편이 더 좋다. 인터페이스나 getter/setter 함수 만으로 추상화가 이뤄지지 않는다. 개발자는 객체가 포함하는 자료를 표현할 가장 좋은ㅇ 방법을 심각하게 고민해야한다! </p>
<h2 id="자료-객체-비대칭"><a href="#자료-객체-비대칭" class="headerlink" title="자료/객체 비대칭"></a>자료/객체 비대칭</h2><figure class="highlight java"><figcaption><span>6-5. 절차적인 도형 (절차지향)</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Square</span> </span>&#123;</span><br><span class="line">	<span class="keyword">public</span> Point topLeft; </span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">double</span> side; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Rectangle</span> </span>&#123;</span><br><span class="line">	<span class="keyword">public</span> Point topLeft; </span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">double</span> height; </span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">double</span> width; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Circle</span> </span>&#123;</span><br><span class="line">	<span class="keyword">public</span> Point center; </span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">double</span> radius; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Geomatry</span> </span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">double</span> PI = <span class="number">3.14</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">area</span><span class="params">(Object shape)</span> <span class="keyword">throws</span> NoSuchShapeException </span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(shape <span class="keyword">instanceof</span> Square) &#123;</span><br><span class="line">			Square s = (Square) shape; </span><br><span class="line">			<span class="keyword">return</span> s.side * s.side; </span><br><span class="line">		&#125; <span class="keyword">else</span> <span class="keyword">if</span> (shape <span class="keyword">instanceof</span> Rectangle) &#123;</span><br><span class="line">			Rectangle r = (Rectangle) shape; </span><br><span class="line">			<span class="keyword">return</span> r.height * r.width; </span><br><span class="line">		&#125; <span class="keyword">else</span> <span class="keyword">if</span> (shape <span class="keyword">instanceof</span> Circle) &#123;</span><br><span class="line">			Circle c = (Circle) shape; </span><br><span class="line">			<span class="keyword">return</span> PI * c.radius * c.radius; </span><br><span class="line">		&#125; </span><br><span class="line">		<span class="keyword">throw</span> <span class="keyword">new</span> NoSuchShapeException();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><figcaption><span>6-6. 다형적인 도형 (객체지향)</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Square</span> <span class="keyword">implements</span> <span class="title">Shape</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> Point topLeft; </span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">double</span> side; </span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">area</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> side * side; </span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Rectangle</span> <span class="keyword">implements</span> <span class="title">Shape</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> Point topLeft;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">double</span> height; </span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">double</span> width; </span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">area</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> height * width; </span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Circle</span> <span class="keyword">implements</span> <span class="title">Shape</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> Point center; </span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">double</span> radius; </span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">double</span> PI = <span class="number">3.14</span>; </span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">area</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> PI * radius * radius; </span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Shape</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">area</span><span class="params">()</span></span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="6-5-VS-6-6-코드의-승자는"><a href="#6-5-VS-6-6-코드의-승자는" class="headerlink" title="6-5 VS 6-6 코드의 승자는?"></a>6-5 VS 6-6 코드의 승자는?</h3><ul>
<li>6-5는 Geomatry 클래스 내부에 함수를 자유롭게 추가 할수 있다. </li>
<li>6-5는 새 도형이 추가된다면 Geomatry클래스 내부에 있는 함수들을 모두 수정해줘야 할수도 있다. </li>
<li>6-6은 6-5처럼 굳이 Geomatry클래스가 필요없고, 새 도형을 추가해도 기존 함수에 아무런 영향을 주지 않는다. </li>
<li>6-6은 새 함수를 추가하면 모든 도형 클래스에 (Shape 인터페이스에 속한) 새 함수를 강제적으로 넣어줘야함.</li>
</ul>
<p>위 두 코드의 승자는? 결론은 무승부! </p>
<ul>
<li>절차적인 코드는 기존 자료구조를 변경하지 않으면서 새 함수를 추가하기 쉽다. 반면, 객체 지향 코드는 기존 함수를 변경하지 않으면서 새 클래스를 추가하기 쉽다. </li>
<li>절차적인 코드는 새로운 자료 구조를 추가하기 어렵다. 그러려면 모든 함수를 고쳐야한다. 객체 지향 코드는 새로운 함수를 추가하기 어렵다. 그러려면 모든 클래스를 고쳐야한다. </li>
</ul>
<p>다시말해, 객체 지향 코드에서 어려운 변경은 절차적인 코드에서 쉬우며, 절차적인 코드에서 어려운 변경은 객체 지향 코드에서 쉽다!<br>복잡한 시스템을 짜다보면 새로운 함수가 아니라 새로운 자료 타입이 필요한 경우가 생긴다. 이때는 클래스 와 객체 지향 코드에서 쉽다!<br>반면, 새로운 자료 타입이 아니라 새로운 함수가 필요한 경우도 생긴다. 이때는 절차적인 코드와 자료구조가 좀 더 적합함! </p>
<h2 id="디미터-법칙"><a href="#디미터-법칙" class="headerlink" title="디미터 법칙"></a>디미터 법칙</h2><p>디미터 법칙은 자신이 조작하는 객체의 속사정을 몰라야 한다는 법칙이다. 즉, 객체는 자료를 숨기고 함수를 공개한다.<br>디미터 법칙은 “클래스 C의 메서드 f는 다음과 같은 객체의 메서드만 호출해야한다.”</p>
<ul>
<li>클래스 C</li>
<li>f가 생성한 객체 </li>
<li>f 인수로 넘어온 객체 </li>
<li>C 인스턴스 변수에 저장된 객체 </li>
</ul>
<p>디미터 법칙을 해하는 가장 대표적인 예는 메서드 체이닝을 활용하는 부분 (모든 메서드 체이닝이 문제가 아니라는 것이 중요!) 이라 할수있다. </p>
<figure class="highlight java"><figcaption><span>디미터 법칙을 어긴 예</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> String outputDir = ctxt.getOptions().getScratchDir().getAbsolutePath(); </span><br></pre></td></tr></table></figure>

<h3 id="기차-충돌"><a href="#기차-충돌" class="headerlink" title="기차 충돌"></a>기차 충돌</h3><p>위와 같은 코드를 기차 충돌이라고 한다. 위와 같은 코드는 차라리 아래와 같이 나누는편이 좋다. </p>
<figure class="highlight java"><figcaption><span>디미터 법칙을 어긴 예</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Option opts = ctxt.getOptions();</span><br><span class="line">File scrachDir = opts.getScratchDir();</span><br><span class="line"><span class="keyword">final</span> String outputDir = scratchDir.getAbsolutePath(); </span><br></pre></td></tr></table></figure>

<p>위 예제 역시 디미터 법칙을 해하는 요소이긴하다. 왜냐하면 ctxt객체가 Options를 포함하고, Options는 ScratchDir을 포함하고, ScartchDir은 AbsolutePath를 포함한다는 사실을 안다. 즉, 함수하나가 아는 지식이 방대하다. 위 코드를 사용하는 함수는 많은 객체를 탐색할 줄 안다는 말이다.<br>위 두 예제코드를 아래 코드처럼 구현했다면 디미터 법칙이 거론되지 않았을것이다. </p>
<figure class="highlight java"><figcaption><span>디미터 법칙을 어긴 예</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> String outputDir = ctxt.options.scartchDir.absouletePath;  </span><br></pre></td></tr></table></figure>

<p>객체라면 내부 구조를 숨겨야 하므로 확실히 디미터 법칙을 위반한다. 반면, 자료구조라면 당연히 내부 구조를 노출하므로 디미터 법칙이 적용되지 않는다.</p>
<h3 id="잡종구조"><a href="#잡종구조" class="headerlink" title="잡종구조"></a>잡종구조</h3><p>절반은 객체, 절반은 자료구조인 잡종구조는 되도록 피하는것이 좋다. 프로그래머가 함수나 타입을 보호할지 공개할지 확신하지 못해 어중간하게 내놓은 설계에 불과함. </p>
<h3 id="구조체-감추기"><a href="#구조체-감추기" class="headerlink" title="구조체 감추기"></a>구조체 감추기</h3><blockquote><p>객체라면 ‘뭔가를 하라고’ 말해야지 속을 드러내라고 말하면 안된다. </p>
</blockquote>

<h2 id="자료-전달-객체-DTO"><a href="#자료-전달-객체-DTO" class="headerlink" title="자료 전달 객체 (DTO)"></a>자료 전달 객체 (DTO)</h2><ul>
<li>DTO는 공개변수만 있고 함수가 없는 클래스다. </li>
<li>Bean은 private변수를 getter/setter 함수로 조작한다. 일종의 사이비 캡슐화로, 일부 OO순수주의자나 만족시킬뿐 별다른 이익을 제공하지 않는다. </li>
</ul>
<h3 id="활성-레코드"><a href="#활성-레코드" class="headerlink" title="활성 레코드"></a>활성 레코드</h3><ul>
<li>활성 레코드는 DTO의 특수형태다. DTO와 같은 맥락이나, 대개 save나 find와 같은 탐색함수도 제공함. </li>
<li>활성 레코드는 자료구조로 취급해야함. </li>
</ul>

            


        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">TAGGED IN</span><br/>
                
    <a class="tag tag--primary tag--small t-none-link" href="/tags/refactoring-code-cleancode/" rel="tag">refactoring,code,cleancode</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2021/02/09/clean-code-6/"
                    data-tooltip="clean-code-6"
                    aria-label="PREVIOUS: clean-code-6"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2021/01/27/clean-code-4/"
                    data-tooltip="clean-code-4"
                    aria-label="NEXT: clean-code-4"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://codexdawn.github.io/2021/02/08/clean-code-5/"
                    title="Share on Facebook"
                    aria-label="Share on Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://codexdawn.github.io/2021/02/08/clean-code-5/"
                    title="Share on Twitter"
                    aria-label="Share on Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=https://codexdawn.github.io/2021/02/08/clean-code-5/"
                    title="Share on Google+"
                    aria-label="Share on Google+"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2021 codexdawn. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="5">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2021/02/09/clean-code-6/"
                    data-tooltip="clean-code-6"
                    aria-label="PREVIOUS: clean-code-6"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2021/01/27/clean-code-4/"
                    data-tooltip="clean-code-4"
                    aria-label="NEXT: clean-code-4"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://codexdawn.github.io/2021/02/08/clean-code-5/"
                    title="Share on Facebook"
                    aria-label="Share on Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://codexdawn.github.io/2021/02/08/clean-code-5/"
                    title="Share on Twitter"
                    aria-label="Share on Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=https://codexdawn.github.io/2021/02/08/clean-code-5/"
                    title="Share on Google+"
                    aria-label="Share on Google+"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                
    <div id="share-options-bar" class="share-options-bar" data-behavior="5">
        <i id="btn-close-shareoptions" class="fa fa-times"></i>
        <ul class="share-options">
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://www.facebook.com/sharer/sharer.php?u=https://codexdawn.github.io/2021/02/08/clean-code-5/"
                        aria-label="Share on Facebook"
                    >
                        <i class="fab fa-facebook" aria-hidden="true"></i><span>Share on Facebook</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://twitter.com/intent/tweet?text=https://codexdawn.github.io/2021/02/08/clean-code-5/"
                        aria-label="Share on Twitter"
                    >
                        <i class="fab fa-twitter" aria-hidden="true"></i><span>Share on Twitter</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://plus.google.com/share?url=https://codexdawn.github.io/2021/02/08/clean-code-5/"
                        aria-label="Share on Google+"
                    >
                        <i class="fab fa-google-plus" aria-hidden="true"></i><span>Share on Google+</span>
                    </a>
                </li>
            
        </ul>
    </div>


            
        </div>
        


<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <h4 id="about-card-name">codexdawn</h4>
        
            <div id="about-card-bio"><p>author.bio</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>author.job</p>

            </div>
        
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover-v1.2.0.jpg');"></div>
        <!--SCRIPTS-->

<script src="/assets/js/script-ikbi0v8fyzuu91xv5rmpcrnwb4qinfgborzd5kejmj8wr6ibfra8oaxqshyg.min.js"></script>

<!--SCRIPTS END-->


    




    </body>
</html>
