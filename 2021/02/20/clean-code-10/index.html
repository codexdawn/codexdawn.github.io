
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="codexdawn">
    <title>clean-code-10 - codexdawn</title>
    <meta name="author" content="codexdawn">
    
    
    
        
            <link rel="alternate" type="application/atom+xml" title="RSS" href="/atom.xml">
        
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"codexdawn","sameAs":["https://github.com/codexdawn","https://www.facebook.com/beherzt.dev","https://www.linkedin.com/in/sim-jisung-3048872a/","mailto:cloudkaiser@gmail.com"],"image":"https://www.gravatar.com/avatar/d97fd4b94c429915f1cb55eb27e7d4d9"},"articleBody":"시스템복잡성은 죽음이다. 개발자에게서 생기를 앗아가며, 제품을 계획하고 제작하고 테스트하기 어렵게 만든다. \n\n\n도시를 세운다면 ?\n도시는 한사람의 힘으로 운영하기 힘들다. 수도관리팀, 전력관리팀 등 각분야를 관리하는 크고 작은 조직들이 존재한다. 이렇게 도시가 잘 운영되는 비결은 적절한 추상화 와 모듈화 때문이다. 그래서 큰 그림을 이해하지 못할지라도 개인과 개인이 관리하는 ‘구성요소’는 효율적으로 돌아간다. \n흔히 소프트웨어 팀도 도시처럼 구성한다. \n\n시스템 제작과 시스템 사용을 분리하라.\n제작(construction)은 사용과 아주 다르다. \n\n소프트웨어 시스템은 (어플리케이션 객체를 제작하고 의존성 을 서로 ‘연결’하는) 준비과정(준비과정 이후에 이어지는) 런타임 로직을 분리해야 한다.  \n \n\n\n소프트웨어 설계의 시작단계는 ‘관심사’다. 곧 ‘관심사 분리’를 의미한다. \n\nlazy evaluation123456public Service getService() &#123;\tif(service == null) &#123;\t\tservice = new MyServiceImpl(...); //모든상황에 기본값일까? \t\treturn service; \t&#125;&#125;\n\nQ&gt; lazy evaluation(계산지연)의 장점\n\n실제 필요할때까지 객체를 생성 안함.\nNullPointerException이 발생 안함. \n\n\n\n위 코드는 lazy evaluation의 장점을 갖지만 단점은 무엇일까?\nMyServiceImpl에서 생략한 생성자 인수에 명시적으로 의존한다. 런타임 로직에서 의존성을 해결하지 않으면 컴파일이 안됨\n테스트 문제 MyServiceImpl객체가 무거운 객체라면 즉, 의존하는 객체가 많다면, 의존하는 테스트 전용 객체(Mock Object)를 service필드에 할당을 해야한다. \n일반 런타임 로직에다 객체 생성 로직을 섞어 놓은 탓에 service가 null인 경로 null이 아닌경로 등의 모든 실행경로를 테스트해야함. \n책임이 둘이라는 말은 메서드가 작업을 두가지 이상 수행한다는 의미로 SRP를 위반함. \n가장 큰 문제는 주석 처럼 모든상황에 적합할지 여부이다. \n\n체계적이고 탄탄한 시스템을 만들고 싶다면?\nlazy evaluation 같이 손쉬운 기법으로 모듈성을 깨서는 절대로 안됨. (객체를 생성하거나 의존성을 연결할때도 마찬가지) \n설정 논리는 일반 실행 논리와 분리해야 모듈성이 높아진다. \n주요 의존성을 해소하기 위한 방식은, 즉 전반적이며 일관적인 방식도 필요하다. \n\nMain분리\nMain분리는 시스템 생성과 시스템 사용을 분리하는 방법으로, 생성과 관련된 코드는 main 이나 main이 호출하는 모듈로 옮기고, 나머지 시슽메은 모든 객체가 생성되었고 모든 의존성이 연결되었다고 가정한다. \n\n팩토리\n객체가 생성되는 시점을 애플리케이션이 결정할 필요도 생기는데, 이때는 추상 팩토리 패턴(Abstract Factory)을 사용한다. \n\n의존성 주입 (Dependency Injection)\n사용과 제작을 분리하는 강력한 메커니즘 하나가 의존성 주입 이다.\n의존성 주입은 제어 역전(IoC) 기법을 의존성 관리에 적용한 메커니즘이다. 제어역전은 한 객체가 맡은 보조 책임을 새로운 객체에게 전적으로 떠넘김. \n새로운 객체는 넘겨받은 책임만 맡으므로 SRP를 지키게됨. 의존성 관리 맥락에서는 객체는 의존성 자체를 인스턴스로 만드는 책임은 지지 않는다. 대신에 이런 책임을 다른 전담 메커니즘에 넘겨야만 한다. 그렇게 함으로써 제어를 역전한다. 전담 메커니즘으로는 main루틴이나 특수 컨테이너 대표적으로 spring framework같은게 있겠다. \n\n확장소프트웨어 시스템은 물리적인 시스템과 다르다. 관심사를 적절히 분리해 관리한다면 소프트웨어 아키텍처는 점진적으로 발전 할수 있다.    \n\n\n횡단 관심사 (cross-cutting)\n영속성과 같은 관심사는 애플리케이션의 자연스러운 객체 경계를 넘나드는 경향이 있다. \n대표적인 횡단 관심사를 사용하는 개념이 AOP 이다. \n\n자바 프록시\n자바 프록시는 단순한 상황에 적합하다. 개별객체나 클래스에서 메서드 호출을 감싸는 경우가 좋은 예다. 하지만 JDK에서 제공하는 동적 프록시는 인터페이스만 지원한다. 클래스 프록시를 사용하려면 CGLIB,ASM,Javassist 등과 같은 바이트 코드 처리 라이브러리가 필요함. \n코드 양과 크기는 프록시의 두가지 단점이다. 결국 프록시로는 깨끗한 코드를 작성하기 어려움 또한 프록시는 시스템 단위로 실행 ‘지점’을 명시하는 메커니즘도 제공하지 않는다. \n\n순수 자바 AOP 프레임워크\n다행스럽게 대부분의 프록시 코드는 판박이라 도구로 자동화 할수 있다. 순수 자바 관점을 구현하는 스프링 AOP, JBoss AOP 등과 같은 여러 자바 프레임워크는 내부적으로 프록시를 사용한다. \n\nAspectJ 관점\nAspectJ는 관점을 분리하는 강력하고 풍부한 도구 집합을 제공하지만, 새 도구를 활용하고 새 언어 문법과 사용법을 익혀야 한다는 단점이 있음. \n\n테스트 주도 시스템 아키텍처 구축최선의 시스템 구조는 각기 POJO(또는 다른) 객체로 구현되는 모듈화된 관심사 영역(도메인)으로 구성된다. 이렇게 서로 다른 영역은 해당 영역 코드에 최소한의 영향을 미치는 관점이나 유사한 도구를 사용해 통합한다. 이런 구조 역시 코드와 마찬가지로 테스트 주도 기법을 적용할수 있다. \n\n\n\n건축은 BDUF(Big Design Up Front) 방식을 취한다. 즉, 구현을 시작하기 전에 앞으로 벌어질 모든 사항을 설계하는 기법인데, 소프트웨어 개발은 BDUF방식이 매우 해롭다 (EJB가 왜 망했는지, Spring Framework가 왜 흥할수밖에 없었는지 생각해보면 알듯하다.)\n\n의사 결정을 최적화 하라관심사를 모듈로 분리한 POJO시스템은 기민함(게으른)을 제공한다. 이런 기만함 덕택에 최신 정보에 기반해 최선의 시점에 최적의 결정을 내리기가 쉬워진다. 또한 결정의 복잡성도 줄어든다.  \n\n\n명백한 가치가 있을때 표준을 현명하게 사용하라표준을 사용하면 아이디어와 컴포넌트를 재사용하기 쉽고, 적절한 경험을 가진 사람을 구하기 쉬우며, 좋은 아이디어를 캡슐화하기 쉽고, 컴포넌트를 엮기 쉽다. 하지만 때로는 표준을 만드는 시간이 너무 오래 걸려 업계가 기다리지 못한다. 어떤 표준은 원래 표준을 제정한 목적을 잊어버리기도 한다.\n\n\n\nEJB2는 단지 표준이라는 이유만으로 아주 많은 팀이 사용했음. 심지어 가벼운 프로젝트도 EJB2를 채택함. 하지만 EJB2의 무거운 시스템 과 오버엔지니어링된 시스템을 아주 과장되게 포장된 표준에 집착하는 바람에 고객 가치가 뒷전으로 밀려난 사례가 많았음.\n\n시스템은 도메인 특화 언어가 필요하다. (DSL)\nDSL은 간단한 스크립트 언어나 표준 언어로 구현한 API를 가리킨다. DSL코드로 짠 코드는 도메인 전문가가 작성한 구조적인 산문처럼 읽힌다. \n좋은 DSL은 도메인 개념과 그 개념을 구현한 코드사이에 존재하는 의사소통 간극을 줄여준다. (애자일 기법이 팀과 프로젝트 이해관계자 사이에 의사소통 간극을 줄여줌.)\n효과적으로 DSL을 활용하면 추상화 수준을 코드 관용구나 디자인 패턴 이상으로 끌어올릴수있음. 그래서 개발자가 적절한 추상화 수준에서 코드 의도를 표현 가능함. \n\nDSL을 사용하면 고차원 정책에서 저차원 세부사항까지 모든 추상화 수준과 모든 도메인을 POJO로 표현가능함. \n\n\n결론\n깨끗하지 못한 아키텍처는 도메인 논리를 흐리며 기민성을 떨어뜨린다. (제품품질 저하, 버그유발상승)\n모든 추상화 단계에서 의도는 명확히 표현해야함. 그러려면 POJO를 작성하고 관점 혹은 관점과 유사한 매커니즘을 사용해 각 구현 관심사를 분리해야함.(AOP)\n시스템을 설계하든 개별 모듈을 설계하든, 실제로 돌아가는 가장 단순한 수단을 사용해야 한다는 사실을 명심. (EJB -&gt; Spring framework, JPA)\n\n","dateCreated":"2021-02-20T06:20:33+00:00","dateModified":"2021-02-20T10:03:44+00:00","datePublished":"2021-02-20T06:20:33+00:00","description":"","headline":"clean-code-10","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"https://codexdawn.github.io/2021/02/20/clean-code-10/"},"publisher":{"@type":"Organization","name":"codexdawn","sameAs":["https://github.com/codexdawn","https://www.facebook.com/beherzt.dev","https://www.linkedin.com/in/sim-jisung-3048872a/","mailto:cloudkaiser@gmail.com"],"image":"https://www.gravatar.com/avatar/d97fd4b94c429915f1cb55eb27e7d4d9","logo":{"@type":"ImageObject","url":"https://www.gravatar.com/avatar/d97fd4b94c429915f1cb55eb27e7d4d9"}},"url":"https://codexdawn.github.io/2021/02/20/clean-code-10/","keywords":"refactoring,code,cleancode"}</script>
    <meta name="description" content="시스템복잡성은 죽음이다. 개발자에게서 생기를 앗아가며, 제품을 계획하고 제작하고 테스트하기 어렵게 만든다.    도시를 세운다면 ? 도시는 한사람의 힘으로 운영하기 힘들다. 수도관리팀, 전력관리팀 등 각분야를 관리하는 크고 작은 조직들이 존재한다. 이렇게 도시가 잘 운영되는 비결은 적절한 추상화 와 모듈화 때문이다. 그래서 큰 그림을 이해하지 못할지라도 개">
<meta property="og:type" content="blog">
<meta property="og:title" content="clean-code-10">
<meta property="og:url" content="https://codexdawn.github.io/2021/02/20/clean-code-10/index.html">
<meta property="og:site_name" content="codexdawn">
<meta property="og:description" content="시스템복잡성은 죽음이다. 개발자에게서 생기를 앗아가며, 제품을 계획하고 제작하고 테스트하기 어렵게 만든다.    도시를 세운다면 ? 도시는 한사람의 힘으로 운영하기 힘들다. 수도관리팀, 전력관리팀 등 각분야를 관리하는 크고 작은 조직들이 존재한다. 이렇게 도시가 잘 운영되는 비결은 적절한 추상화 와 모듈화 때문이다. 그래서 큰 그림을 이해하지 못할지라도 개">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2021-02-20T06:20:33.000Z">
<meta property="article:modified_time" content="2021-02-20T10:03:44.930Z">
<meta property="article:author" content="codexdawn">
<meta property="article:tag" content="refactoring,code,cleancode">
<meta name="twitter:card" content="summary">
    
    
        
    
    
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/assets/css/style-3sspfygaapf5d6tbrnqmyrhdcstv0iwwmi4wor2yeip9c44sowy9gbdzyyjm.min.css">

    <!--STYLES END-->
    

    

    
        
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    

<header id="header" data-behavior="5">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/"
            aria-label=""
        >
            codexdawn
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="Open the link: /#about"
            >
        
        
        </a>
    
</header>

            <!-- Define author's picture -->


<nav id="sidebar" data-behavior="5">
    <div class="sidebar-container">
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/"
                            
                            rel="noopener"
                            title="Home"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-categories"
                            
                            rel="noopener"
                            title="Categories"
                        >
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-tags"
                            
                            rel="noopener"
                            title="Tags"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="#about"
                            
                            rel="noopener"
                            title="About"
                        >
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/codexdawn"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://www.facebook.com/beherzt.dev"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Facebook"
                        >
                        <i class="sidebar-button-icon fab fa-facebook" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Facebook</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://www.linkedin.com/in/sim-jisung-3048872a/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="LinkedIn"
                        >
                        <i class="sidebar-button-icon fab fa-linkedin" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">LinkedIn</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="mailto:cloudkaiser@gmail.com"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Mail"
                        >
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Mail</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/atom.xml"
                            
                            rel="noopener"
                            title="RSS"
                        >
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="5"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            clean-code-10
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2021-02-20T06:20:33+00:00">
	
		    Feb 20, 2021
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/Clean-Code/">Clean Code</a>, <a class="category-link" href="/categories/Study/">Study</a>, <a class="category-link" href="/categories/%EC%8B%9C%EC%8A%A4%ED%85%9C/">시스템</a>


    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <h1 id="시스템"><a href="#시스템" class="headerlink" title="시스템"></a>시스템</h1><blockquote><p>복잡성은 죽음이다. 개발자에게서 생기를 앗아가며, 제품을 계획하고 제작하고 테스트하기 어렵게 만든다. </p>
</blockquote>

<h2 id="도시를-세운다면"><a href="#도시를-세운다면" class="headerlink" title="도시를 세운다면 ?"></a>도시를 세운다면 ?</h2><ul>
<li>도시는 한사람의 힘으로 운영하기 힘들다. 수도관리팀, 전력관리팀 등 각분야를 관리하는 크고 작은 조직들이 존재한다. 이렇게 도시가 잘 운영되는 비결은 적절한 <strong>추상화</strong> 와 <strong>모듈화</strong> 때문이다. 그래서 큰 그림을 이해하지 못할지라도 개인과 개인이 관리하는 ‘구성요소’는 효율적으로 돌아간다. </li>
<li>흔히 소프트웨어 팀도 도시처럼 구성한다. </li>
</ul>
<h2 id="시스템-제작과-시스템-사용을-분리하라"><a href="#시스템-제작과-시스템-사용을-분리하라" class="headerlink" title="시스템 제작과 시스템 사용을 분리하라."></a>시스템 제작과 시스템 사용을 분리하라.</h2><ul>
<li>제작(construction)은 사용과 아주 다르다. </li>
</ul>
<blockquote><p>소프트웨어 시스템은 (어플리케이션 객체를 제작하고 <strong>의존성</strong> 을 서로 ‘연결’하는) 준비과정(준비과정 이후에 이어지는) 런타임 로직을 분리해야 한다.  </p>
</blockquote> 

<ul>
<li>소프트웨어 설계의 시작단계는 ‘관심사’다. 곧 <a target="_blank" rel="noopener" href="https://ko.wikipedia.org/wiki/%EA%B4%80%EC%8B%AC%EC%82%AC_%EB%B6%84%EB%A6%AC#:~:text=%EC%BB%B4%ED%93%A8%ED%84%B0%20%EA%B3%BC%ED%95%99%EC%97%90%EC%84%9C%20%EA%B4%80%EC%8B%AC%EC%82%AC%20%EB%B6%84%EB%A6%AC,%EC%9D%98%20%EA%B4%80%EC%8B%AC%EC%82%AC%EB%A5%BC%20%ED%95%B4%EA%B2%B0%ED%95%9C%EB%8B%A4.&text=%EA%B4%80%EC%8B%AC%EC%82%AC%20%EB%B6%84%EB%A6%AC%EB%A5%BC%20%EC%9D%B4%EC%9A%A9%ED%95%98%EB%A9%B4,%EC%A0%95%EB%8F%84%EC%9D%98%20%EC%9E%90%EC%9C%A0%EA%B0%80%20%EC%83%9D%EA%B8%B4%EB%8B%A4.">‘관심사 분리’</a>를 의미한다. </li>
</ul>
<figure class="highlight java"><figcaption><span>lazy evaluation</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Service <span class="title">getService</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(service == <span class="keyword">null</span>) &#123;</span><br><span class="line">		service = <span class="keyword">new</span> MyServiceImpl(...); <span class="comment">//모든상황에 기본값일까? </span></span><br><span class="line">		<span class="keyword">return</span> service; </span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote><p>Q&gt; lazy evaluation(계산지연)의 장점</p>
<ol>
<li>실제 필요할때까지 객체를 생성 안함.</li>
<li>NullPointerException이 발생 안함. </li>
</ol>
</blockquote>

<h4 id="위-코드는-lazy-evaluation의-장점을-갖지만-단점은-무엇일까"><a href="#위-코드는-lazy-evaluation의-장점을-갖지만-단점은-무엇일까" class="headerlink" title="위 코드는 lazy evaluation의 장점을 갖지만 단점은 무엇일까?"></a>위 코드는 lazy evaluation의 장점을 갖지만 단점은 무엇일까?</h4><ul>
<li>MyServiceImpl에서 생략한 생성자 인수에 명시적으로 의존한다. 런타임 로직에서 의존성을 해결하지 않으면 컴파일이 안됨</li>
<li>테스트 문제 MyServiceImpl객체가 무거운 객체라면 즉, 의존하는 객체가 많다면, 의존하는 테스트 전용 객체(Mock Object)를 service필드에 할당을 해야한다. </li>
<li>일반 런타임 로직에다 객체 생성 로직을 섞어 놓은 탓에 service가 null인 경로 null이 아닌경로 등의 모든 실행경로를 테스트해야함. </li>
<li>책임이 둘이라는 말은 메서드가 작업을 두가지 이상 수행한다는 의미로 SRP를 위반함. </li>
<li>가장 큰 문제는 주석 처럼 모든상황에 적합할지 여부이다. </li>
</ul>
<h4 id="체계적이고-탄탄한-시스템을-만들고-싶다면"><a href="#체계적이고-탄탄한-시스템을-만들고-싶다면" class="headerlink" title="체계적이고 탄탄한 시스템을 만들고 싶다면?"></a>체계적이고 탄탄한 시스템을 만들고 싶다면?</h4><ul>
<li>lazy evaluation 같이 손쉬운 기법으로 모듈성을 깨서는 절대로 안됨. (객체를 생성하거나 의존성을 연결할때도 마찬가지) </li>
<li>설정 논리는 일반 실행 논리와 분리해야 모듈성이 높아진다. </li>
<li>주요 의존성을 해소하기 위한 방식은, 즉 전반적이며 일관적인 방식도 필요하다. </li>
</ul>
<h3 id="Main분리"><a href="#Main분리" class="headerlink" title="Main분리"></a>Main분리</h3><ul>
<li>Main분리는 시스템 생성과 시스템 사용을 분리하는 방법으로, 생성과 관련된 코드는 main 이나 main이 호출하는 모듈로 옮기고, 나머지 시슽메은 모든 객체가 생성되었고 모든 의존성이 연결되었다고 가정한다. </li>
</ul>
<h3 id="팩토리"><a href="#팩토리" class="headerlink" title="팩토리"></a>팩토리</h3><ul>
<li>객체가 생성되는 시점을 애플리케이션이 결정할 필요도 생기는데, 이때는 추상 팩토리 패턴(Abstract Factory)을 사용한다. </li>
</ul>
<h3 id="의존성-주입-Dependency-Injection"><a href="#의존성-주입-Dependency-Injection" class="headerlink" title="의존성 주입 (Dependency Injection)"></a>의존성 주입 (Dependency Injection)</h3><ul>
<li>사용과 제작을 분리하는 강력한 메커니즘 하나가 <a target="_blank" rel="noopener" href="https://ko.wikipedia.org/wiki/%EC%9D%98%EC%A1%B4%EC%84%B1_%EC%A3%BC%EC%9E%85">의존성 주입</a> 이다.</li>
<li>의존성 주입은 제어 역전(IoC) 기법을 의존성 관리에 적용한 메커니즘이다. 제어역전은 한 객체가 맡은 보조 책임을 새로운 객체에게 전적으로 떠넘김. </li>
<li><strong>새로운 객체는 넘겨받은 책임만 맡으므로 SRP를 지키게됨.</strong> 의존성 관리 맥락에서는 객체는 의존성 자체를 인스턴스로 만드는 책임은 지지 않는다. 대신에 이런 책임을 다른 전담 메커니즘에 넘겨야만 한다. 그렇게 함으로써 제어를 역전한다. 전담 메커니즘으로는 main루틴이나 특수 컨테이너 대표적으로 spring framework같은게 있겠다. </li>
</ul>
<h2 id="확장"><a href="#확장" class="headerlink" title="확장"></a>확장</h2><blockquote><p>소프트웨어 시스템은 물리적인 시스템과 다르다. 관심사를 적절히 분리해 관리한다면 소프트웨어 아키텍처는 점진적으로 발전 할수 있다.    </p>
</blockquote>

<h3 id="횡단-관심사-cross-cutting"><a href="#횡단-관심사-cross-cutting" class="headerlink" title="횡단 관심사 (cross-cutting)"></a>횡단 관심사 (cross-cutting)</h3><ul>
<li>영속성과 같은 관심사는 애플리케이션의 자연스러운 객체 경계를 넘나드는 경향이 있다. </li>
<li>대표적인 횡단 관심사를 사용하는 개념이 <a target="_blank" rel="noopener" href="https://ko.wikipedia.org/wiki/%EA%B4%80%EC%A0%90_%EC%A7%80%ED%96%A5_%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D#:~:text=%EC%BB%B4%ED%93%A8%ED%8C%85%EC%97%90%EC%84%9C%20%EA%B4%80%EC%A0%90%20%EC%A7%80%ED%96%A5%20%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D,%EA%B2%83%EC%9D%B4%20%EB%AA%A9%EC%A0%81%EC%9D%B8%20%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D%20%ED%8C%A8%EB%9F%AC%EB%8B%A4%EC%9E%84%EC%9D%B4%EB%8B%A4.">AOP</a> 이다. </li>
</ul>
<h2 id="자바-프록시"><a href="#자바-프록시" class="headerlink" title="자바 프록시"></a>자바 프록시</h2><ul>
<li>자바 프록시는 단순한 상황에 적합하다. 개별객체나 클래스에서 메서드 호출을 감싸는 경우가 좋은 예다. 하지만 JDK에서 제공하는 동적 프록시는 인터페이스만 지원한다. 클래스 프록시를 사용하려면 CGLIB,ASM,Javassist 등과 같은 바이트 코드 처리 라이브러리가 필요함. </li>
<li>코드 양과 크기는 프록시의 두가지 단점이다. 결국 프록시로는 깨끗한 코드를 작성하기 어려움 또한 프록시는 시스템 단위로 실행 ‘지점’을 명시하는 메커니즘도 제공하지 않는다. </li>
</ul>
<h2 id="순수-자바-AOP-프레임워크"><a href="#순수-자바-AOP-프레임워크" class="headerlink" title="순수 자바 AOP 프레임워크"></a>순수 자바 AOP 프레임워크</h2><ul>
<li>다행스럽게 대부분의 프록시 코드는 판박이라 도구로 자동화 할수 있다. 순수 자바 관점을 구현하는 스프링 AOP, JBoss AOP 등과 같은 여러 자바 프레임워크는 내부적으로 프록시를 사용한다. </li>
</ul>
<h2 id="AspectJ-관점"><a href="#AspectJ-관점" class="headerlink" title="AspectJ 관점"></a>AspectJ 관점</h2><ul>
<li><a target="_blank" rel="noopener" href="https://ko.wikipedia.org/wiki/AspectJ">AspectJ</a>는 관점을 분리하는 강력하고 풍부한 도구 집합을 제공하지만, 새 도구를 활용하고 새 언어 문법과 사용법을 익혀야 한다는 단점이 있음. </li>
</ul>
<h2 id="테스트-주도-시스템-아키텍처-구축"><a href="#테스트-주도-시스템-아키텍처-구축" class="headerlink" title="테스트 주도 시스템 아키텍처 구축"></a>테스트 주도 시스템 아키텍처 구축</h2><blockquote><p>최선의 시스템 구조는 각기 POJO(또는 다른) 객체로 구현되는 모듈화된 관심사 영역(도메인)으로 구성된다. 이렇게 서로 다른 영역은 해당 영역 코드에 최소한의 영향을 미치는 관점이나 유사한 도구를 사용해 통합한다. 이런 구조 역시 코드와 마찬가지로 테스트 주도 기법을 적용할수 있다. </p>
</blockquote>

<ul>
<li>건축은 BDUF(Big Design Up Front) 방식을 취한다. 즉, 구현을 시작하기 전에 앞으로 벌어질 모든 사항을 설계하는 기법인데, 소프트웨어 개발은 BDUF방식이 매우 해롭다 (EJB가 왜 망했는지, Spring Framework가 왜 흥할수밖에 없었는지 생각해보면 알듯하다.)</li>
</ul>
<h2 id="의사-결정을-최적화-하라"><a href="#의사-결정을-최적화-하라" class="headerlink" title="의사 결정을 최적화 하라"></a>의사 결정을 최적화 하라</h2><blockquote><p>관심사를 모듈로 분리한 POJO시스템은 기민함(게으른)을 제공한다. 이런 기만함 덕택에 최신 정보에 기반해 최선의 시점에 최적의 결정을 내리기가 쉬워진다. 또한 결정의 복잡성도 줄어든다.  </p>
</blockquote>

<h2 id="명백한-가치가-있을때-표준을-현명하게-사용하라"><a href="#명백한-가치가-있을때-표준을-현명하게-사용하라" class="headerlink" title="명백한 가치가 있을때 표준을 현명하게 사용하라"></a>명백한 가치가 있을때 표준을 현명하게 사용하라</h2><blockquote><p>표준을 사용하면 아이디어와 컴포넌트를 재사용하기 쉽고, 적절한 경험을 가진 사람을 구하기 쉬우며, 좋은 아이디어를 캡슐화하기 쉽고, 컴포넌트를 엮기 쉽다. 하지만 때로는 표준을 만드는 시간이 너무 오래 걸려 업계가 기다리지 못한다. 어떤 표준은 원래 표준을 제정한 목적을 잊어버리기도 한다.</p>
</blockquote>

<ul>
<li>EJB2는 단지 표준이라는 이유만으로 아주 많은 팀이 사용했음. 심지어 가벼운 프로젝트도 EJB2를 채택함. 하지만 EJB2의 무거운 시스템 과 오버엔지니어링된 시스템을 아주 과장되게 포장된 표준에 집착하는 바람에 고객 가치가 뒷전으로 밀려난 사례가 많았음.</li>
</ul>
<h2 id="시스템은-도메인-특화-언어가-필요하다-DSL"><a href="#시스템은-도메인-특화-언어가-필요하다-DSL" class="headerlink" title="시스템은 도메인 특화 언어가 필요하다. (DSL)"></a>시스템은 도메인 특화 언어가 필요하다. (DSL)</h2><ul>
<li>DSL은 간단한 스크립트 언어나 표준 언어로 구현한 API를 가리킨다. DSL코드로 짠 코드는 도메인 전문가가 작성한 구조적인 산문처럼 읽힌다. </li>
<li>좋은 DSL은 도메인 개념과 그 개념을 구현한 코드사이에 존재하는 의사소통 간극을 줄여준다. (애자일 기법이 팀과 프로젝트 이해관계자 사이에 의사소통 간극을 줄여줌.)</li>
<li>효과적으로 DSL을 활용하면 추상화 수준을 코드 관용구나 디자인 패턴 이상으로 끌어올릴수있음. 그래서 개발자가 적절한 추상화 수준에서 코드 의도를 표현 가능함. </li>
</ul>
<blockquote><p>DSL을 사용하면 고차원 정책에서 저차원 세부사항까지 모든 추상화 수준과 모든 도메인을 POJO로 표현가능함. </p>
</blockquote>

<h2 id="결론"><a href="#결론" class="headerlink" title="결론"></a>결론</h2><ul>
<li>깨끗하지 못한 아키텍처는 도메인 논리를 흐리며 기민성을 떨어뜨린다. (제품품질 저하, 버그유발상승)</li>
<li>모든 추상화 단계에서 의도는 명확히 표현해야함. 그러려면 POJO를 작성하고 관점 혹은 관점과 유사한 매커니즘을 사용해 각 구현 관심사를 분리해야함.(AOP)</li>
<li>시스템을 설계하든 개별 모듈을 설계하든, 실제로 돌아가는 가장 단순한 수단을 사용해야 한다는 사실을 명심. (EJB -&gt; Spring framework, JPA)</li>
</ul>

            


        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">TAGGED IN</span><br/>
                
    <a class="tag tag--primary tag--small t-none-link" href="/tags/refactoring-code-cleancode/" rel="tag">refactoring,code,cleancode</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a
                        class="post-action-btn btn btn--disabled"
                        aria-hidden="true"
                    >
                        
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2021/02/16/clean-code-9/"
                    data-tooltip="clean-code-9"
                    aria-label="NEXT: clean-code-9"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://codexdawn.github.io/2021/02/20/clean-code-10/"
                    title="Share on Facebook"
                    aria-label="Share on Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://codexdawn.github.io/2021/02/20/clean-code-10/"
                    title="Share on Twitter"
                    aria-label="Share on Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=https://codexdawn.github.io/2021/02/20/clean-code-10/"
                    title="Share on Google+"
                    aria-label="Share on Google+"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2021 codexdawn. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="5">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a
                        class="post-action-btn btn btn--disabled"
                        aria-hidden="true"
                    >
                        
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2021/02/16/clean-code-9/"
                    data-tooltip="clean-code-9"
                    aria-label="NEXT: clean-code-9"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://codexdawn.github.io/2021/02/20/clean-code-10/"
                    title="Share on Facebook"
                    aria-label="Share on Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://codexdawn.github.io/2021/02/20/clean-code-10/"
                    title="Share on Twitter"
                    aria-label="Share on Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=https://codexdawn.github.io/2021/02/20/clean-code-10/"
                    title="Share on Google+"
                    aria-label="Share on Google+"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                
    <div id="share-options-bar" class="share-options-bar" data-behavior="5">
        <i id="btn-close-shareoptions" class="fa fa-times"></i>
        <ul class="share-options">
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://www.facebook.com/sharer/sharer.php?u=https://codexdawn.github.io/2021/02/20/clean-code-10/"
                        aria-label="Share on Facebook"
                    >
                        <i class="fab fa-facebook" aria-hidden="true"></i><span>Share on Facebook</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://twitter.com/intent/tweet?text=https://codexdawn.github.io/2021/02/20/clean-code-10/"
                        aria-label="Share on Twitter"
                    >
                        <i class="fab fa-twitter" aria-hidden="true"></i><span>Share on Twitter</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://plus.google.com/share?url=https://codexdawn.github.io/2021/02/20/clean-code-10/"
                        aria-label="Share on Google+"
                    >
                        <i class="fab fa-google-plus" aria-hidden="true"></i><span>Share on Google+</span>
                    </a>
                </li>
            
        </ul>
    </div>


            
        </div>
        


<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <h4 id="about-card-name">codexdawn</h4>
        
            <div id="about-card-bio"><p>author.bio</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>author.job</p>

            </div>
        
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover-v1.2.0.jpg');"></div>
        <!--SCRIPTS-->

<script src="/assets/js/script-ikbi0v8fyzuu91xv5rmpcrnwb4qinfgborzd5kejmj8wr6ibfra8oaxqshyg.min.js"></script>

<!--SCRIPTS END-->


    




    </body>
</html>
